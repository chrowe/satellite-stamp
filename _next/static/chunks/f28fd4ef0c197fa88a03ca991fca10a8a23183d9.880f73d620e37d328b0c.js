(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"++oL":function(e,t,n){},"/0+H":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI")),o=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,a=void 0!==r&&r,o=e.hasQuery;return n||a&&(void 0!==o&&o)}t.isInAmpMode=i,t.useAmp=function(){return i(a.default.useContext(o.AmpStateContext))}},"03wo":function(e,t,n){},"1+uw":function(e,t,n){},"1A1x":function(e,t,n){},"2W6z":function(e,t,n){"use strict";var r=function(){};e.exports=r},"2rMq":function(e,t,n){var r;!function(){"use strict";var a=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:a,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:a&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:a&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},"2zs7":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var r,a=n("2rMq");var o=((r=a)&&r.__esModule?r:{default:r}).default,i=o.canUseDOM?window.HTMLElement:{};t.canUseDOM=o.canUseDOM;t.default=i},"3uSx":function(e,t,n){},"5fIB":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"7eEg":function(e,t,n){},"8Kt/":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI")),o=r(n("Xuae")),i=n("lwAK"),s=n("FYa8"),l=n("/0+H");function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function u(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}t.defaultHead=c;var p=["name","httpEquiv","charSet","itemProp"];function d(e,t){return e.reduce((function(e,t){var n=a.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(u,[]).reverse().concat(c(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(a){var o=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var i=a.key.slice(a.key.indexOf("$")+1);e.has(i)?o=!1:e.add(i)}switch(a.type){case"title":case"base":t.has(a.type)?o=!1:t.add(a.type);break;case"meta":for(var s=0,l=p.length;s<l;s++){var c=p[s];if(a.props.hasOwnProperty(c))if("charSet"===c)n.has(c)?o=!1:n.add(c);else{var u=a.props[c],d=r[c]||new Set;d.has(u)?o=!1:(d.add(u),r[c]=d)}}}return o}}()).reverse().map((function(e,t){var n=e.key||t;return a.default.cloneElement(e,{key:n})}))}var f=o.default();function m(e){var t=e.children;return a.default.createElement(i.AmpStateContext.Consumer,null,(function(e){return a.default.createElement(s.HeadManagerContext.Consumer,null,(function(n){return a.default.createElement(f,{reduceComponentsToState:d,handleStateChange:n,inAmpMode:l.isInAmpMode(e)},t)}))}))}m.rewind=f.rewind,t.default=m},"8L3F":function(e,t,n){"use strict";(function(e){var n="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(n&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var a=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function o(e){return e&&"[object Function]"==={}.toString.call(e)}function i(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function l(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=i(e),n=t.overflow,r=t.overflowX,a=t.overflowY;return/(auto|scroll|overlay)/.test(n+a+r)?e:l(s(e))}function c(e){return e&&e.referenceNode?e.referenceNode:e}var u=n&&!(!window.MSInputMethodContext||!document.documentMode),p=n&&/MSIE 10/.test(navigator.userAgent);function d(e){return 11===e?u:10===e?p:u||p}function f(e){if(!e)return document.documentElement;for(var t=d(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===i(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function m(e){return null!==e.parentNode?m(e.parentNode):e}function v(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,o=document.createRange();o.setStart(r,0),o.setEnd(a,0);var i=o.commonAncestorContainer;if(e!==i&&t!==i||r.contains(a))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||f(e.firstElementChild)===e)}(i)?i:f(i);var s=m(e);return s.host?v(s.host,t):v(e,m(t).host)}function h(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function y(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],d(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,n=e.documentElement,r=d(10)&&getComputedStyle(n);return{height:y("Height",t,n,r),width:y("Width",t,n,r)}}var O=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){return j({},e,{right:e.left+e.width,bottom:e.top+e.height})}function E(e){var t={};try{if(d(10)){t=e.getBoundingClientRect();var n=h(e,"top"),r=h(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(f){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?g(e.ownerDocument):{},s=o.width||e.clientWidth||a.width,l=o.height||e.clientHeight||a.height,c=e.offsetWidth-s,u=e.offsetHeight-l;if(c||u){var p=i(e);c-=b(p,"x"),u-=b(p,"y"),a.width-=c,a.height-=u}return C(a)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d(10),a="HTML"===t.nodeName,o=E(e),s=E(t),c=l(e),u=i(t),p=parseFloat(u.borderTopWidth),f=parseFloat(u.borderLeftWidth);n&&a&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var m=C({top:o.top-s.top-p,left:o.left-s.left-f,width:o.width,height:o.height});if(m.marginTop=0,m.marginLeft=0,!r&&a){var v=parseFloat(u.marginTop),b=parseFloat(u.marginLeft);m.top-=p-v,m.bottom-=p-v,m.left-=f-b,m.right-=f-b,m.marginTop=v,m.marginLeft=b}return(r&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=h(t,"top"),a=h(t,"left"),o=n?-1:1;return e.top+=r*o,e.bottom+=r*o,e.left+=a*o,e.right+=a*o,e}(m,t)),m}function k(e){if(!e||!e.parentElement||d())return document.documentElement;for(var t=e.parentElement;t&&"none"===i(t,"transform");)t=t.parentElement;return t||document.documentElement}function N(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},u=a?k(e):v(e,c(t));if("viewport"===r)o=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=P(e,n),a=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),i=t?0:h(n),s=t?0:h(n,"left");return C({top:i-r.top+r.marginTop,left:s-r.left+r.marginLeft,width:a,height:o})}(u,a);else{var p=void 0;"scrollParent"===r?"BODY"===(p=l(s(t))).nodeName&&(p=e.ownerDocument.documentElement):p="window"===r?e.ownerDocument.documentElement:r;var d=P(p,u,a);if("HTML"!==p.nodeName||function e(t){var n=t.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===i(t,"position"))return!0;var r=s(t);return!!r&&e(r)}(u))o=d;else{var f=g(e.ownerDocument),m=f.height,b=f.width;o.top+=d.top-d.marginTop,o.bottom=m+d.top,o.left+=d.left-d.marginLeft,o.right=b+d.left}}var y="number"===typeof(n=n||0);return o.left+=y?n:n.left||0,o.top+=y?n:n.top||0,o.right-=y?n:n.right||0,o.bottom-=y?n:n.bottom||0,o}function S(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var i=N(n,r,o,a),s={top:{width:i.width,height:t.top-i.top},right:{width:i.right-t.right,height:i.height},bottom:{width:i.width,height:i.bottom-t.bottom},left:{width:t.left-i.left,height:i.height}},l=Object.keys(s).map((function(e){return j({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,p=e.split("-")[1];return u+(p?"-"+p:"")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P(n,r?k(t):v(t,c(n)),r)}function M(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function A(e,t,n){n=n.split("-")[0];var r=M(e),a={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),i=o?"top":"left",s=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return a[i]=t[i]+t[l]/2-r[l]/2,a[s]=n===s?t[s]-r[c]:t[L(s)],a}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function _(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=T(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&o(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function F(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=S(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=A(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=_(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function I(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function B(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var a=t[r],o=a?""+a+n:e;if("undefined"!==typeof document.body.style[o])return o}return null}function R(){return this.state.isDestroyed=!0,I(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[B("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function V(e){var t=e.ownerDocument;return t?t.defaultView:window}function U(e,t,n,r){n.updateBound=r,V(e).addEventListener("resize",n.updateBound,{passive:!0});var a=l(e);return function e(t,n,r,a){var o="BODY"===t.nodeName,i=o?t.ownerDocument.defaultView:t;i.addEventListener(n,r,{passive:!0}),o||e(l(i.parentNode),n,r,a),a.push(i)}(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,V(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function H(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&H(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var Y=n&&/Firefox/i.test(navigator.userAgent);function K(e,t,n){var r=T(e,(function(e){return e.name===t})),a=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!a){var o="`"+t+"`",i="`"+n+"`";console.warn(i+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return a}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],G=Q.slice(3);function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=G.indexOf(e),r=G.slice(n+1).concat(G.slice(0,n));return t?r.reverse():r}var J={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function Z(e,t,n,r){var a=[0,0],o=-1!==["right","left"].indexOf(r),i=e.split(/(\+|\-)/).map((function(e){return e.trim()})),s=i.indexOf(T(i,(function(e){return-1!==e.search(/,|\s/)})));i[s]&&-1===i[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[i.slice(0,s).concat([i[s].split(l)[0]]),[i[s].split(l)[1]].concat(i.slice(s+1))]:[i];return(c=c.map((function(e,r){var a=(1===r?!o:o)?"height":"width",i=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,i=!0,e):i?(e[e.length-1]+=t,i=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+a[1],i=a[2];if(!o)return e;if(0===i.indexOf("%")){var s=void 0;switch(i){case"%p":s=n;break;case"%":case"%r":default:s=r}return C(s)[t]/100*o}if("vh"===i||"vw"===i){return("vh"===i?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(e,a,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){H(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))}))})),a}var $={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,o=a.reference,i=a.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:x({},l,o[l]),end:x({},l,o[l]+o[c]-i[c])};e.offsets.popper=j({},i,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,o=a.popper,i=a.reference,s=r.split("-")[0],l=void 0;return l=H(+n)?[+n,0]:Z(n,o,i,s),"left"===s?(o.top+=l[0],o.left-=l[1]):"right"===s?(o.top+=l[0],o.left+=l[1]):"top"===s?(o.left+=l[0],o.top-=l[1]):"bottom"===s&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var r=B("transform"),a=e.instance.popper.style,o=a.top,i=a.left,s=a[r];a.top="",a.left="",a[r]="";var l=N(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);a.top=o,a.left=i,a[r]=s,t.boundaries=l;var c=t.priority,u=e.offsets.popper,p={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),x({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=j({},u,p[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],o=Math.floor,i=-1!==["top","bottom"].indexOf(a),s=i?"right":"bottom",l=i?"left":"top",c=i?"width":"height";return n[s]<o(r[l])&&(e.offsets.popper[l]=o(r[l])-n[c]),n[l]>o(r[s])&&(e.offsets.popper[l]=o(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!K(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(a),u=c?"height":"width",p=c?"Top":"Left",d=p.toLowerCase(),f=c?"left":"top",m=c?"bottom":"right",v=M(r)[u];l[m]-v<s[d]&&(e.offsets.popper[d]-=s[d]-(l[m]-v)),l[d]+v>s[m]&&(e.offsets.popper[d]+=l[d]+v-s[m]),e.offsets.popper=C(e.offsets.popper);var h=l[d]+l[u]/2-v/2,b=i(e.instance.popper),y=parseFloat(b["margin"+p]),g=parseFloat(b["border"+p+"Width"]),O=h-e.offsets.popper[d]-y-g;return O=Math.max(Math.min(s[u]-v,O),0),e.arrowElement=r,e.offsets.arrow=(x(n={},d,Math.round(O)),x(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(I(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=N(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],a=L(r),o=e.placement.split("-")[1]||"",i=[];switch(t.behavior){case J.FLIP:i=[r,a];break;case J.CLOCKWISE:i=X(r);break;case J.COUNTERCLOCKWISE:i=X(r,!0);break;default:i=t.behavior}return i.forEach((function(s,l){if(r!==s||i.length===l+1)return e;r=e.placement.split("-")[0],a=L(r);var c=e.offsets.popper,u=e.offsets.reference,p=Math.floor,d="left"===r&&p(c.right)>p(u.left)||"right"===r&&p(c.left)<p(u.right)||"top"===r&&p(c.bottom)>p(u.top)||"bottom"===r&&p(c.top)<p(u.bottom),f=p(c.left)<p(n.left),m=p(c.right)>p(n.right),v=p(c.top)<p(n.top),h=p(c.bottom)>p(n.bottom),b="left"===r&&f||"right"===r&&m||"top"===r&&v||"bottom"===r&&h,y=-1!==["top","bottom"].indexOf(r),g=!!t.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&m||!y&&"start"===o&&v||!y&&"end"===o&&h),O=!!t.flipVariationsByContent&&(y&&"start"===o&&m||y&&"end"===o&&f||!y&&"start"===o&&h||!y&&"end"===o&&v),w=g||O;(d||b||w)&&(e.flipped=!0,(d||b)&&(r=i[l+1]),w&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=r+(o?"-"+o:""),e.offsets.popper=j({},e.offsets.popper,A(e.instance.popper,e.offsets.reference,e.placement)),e=_(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,o=r.reference,i=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[i?"left":"top"]=o[n]-(s?a[i?"width":"height"]:0),e.placement=L(t),e.offsets.popper=C(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!K(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=T(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,o=T(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var i=void 0!==o?o:t.gpuAcceleration,s=f(e.instance.popper),l=E(s),c={position:a.position},u=function(e,t){var n=e.offsets,r=n.popper,a=n.reference,o=Math.round,i=Math.floor,s=function(e){return e},l=o(a.width),c=o(r.width),u=-1!==["left","right"].indexOf(e.placement),p=-1!==e.placement.indexOf("-"),d=t?u||p||l%2===c%2?o:i:s,f=t?o:s;return{left:d(l%2===1&&c%2===1&&!p&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:d(r.right)}}(e,window.devicePixelRatio<2||!Y),p="bottom"===n?"top":"bottom",d="right"===r?"left":"right",m=B("transform"),v=void 0,h=void 0;if(h="bottom"===p?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-l.height+u.bottom:u.top,v="right"===d?"HTML"===s.nodeName?-s.clientWidth+u.right:-l.width+u.right:u.left,i&&m)c[m]="translate3d("+v+"px, "+h+"px, 0)",c[p]=0,c[d]=0,c.willChange="transform";else{var b="bottom"===p?-1:1,y="right"===d?-1:1;c[p]=h*b,c[d]=v*y,c.willChange=p+", "+d}var g={"x-placement":e.placement};return e.attributes=j({},g,e.attributes),e.styles=j({},c,e.styles),e.arrowStyles=j({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return q(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var o=D(a,t,e,n.positionFixed),i=S(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",i),q(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ee=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};O(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=a(this.update.bind(this)),this.options=j({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(j({},e.Defaults.modifiers,i.modifiers)).forEach((function(t){r.options.modifiers[t]=j({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return j({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&o(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var s=this.options.eventsEnabled;s&&this.enableEventListeners(),this.state.eventsEnabled=s}return w(e,[{key:"update",value:function(){return F.call(this)}},{key:"destroy",value:function(){return R.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();ee.Utils=("undefined"!==typeof window?window:e).PopperUtils,ee.placements=Q,ee.Defaults=$,t.a=ee}).call(this,n("yLpj"))},"9rZX":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n("qFS3"),o=(r=a)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},"9tAV":function(e,t,n){},A2uJ:function(e,t,n){},AOp9:function(e,t,n){},Cmif:function(e,t,n){},DYhc:function(e,t,n){},Pw9h:function(e,t,n){},QEso:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("q1tI"),s=h(i),l=h(n("17x9")),c=v(n("VKEO")),u=h(n("S1to")),p=v(n("Ye7m")),d=v(n("fbhf")),f=h(n("2zs7")),m=h(n("UIKY"));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}n("WkvU");var b={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},y=9,g=27,O=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,a=e.htmlOpenClassName,o=e.bodyOpenClassName;o&&d.remove(document.body,o),a&&d.remove(document.getElementsByTagName("html")[0],a),r&&O>0&&0===(O-=1)&&p.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),m.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},(function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===y&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===g&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":a(t))?t:{base:b[e],afterOpen:b[e]+"--after-open",beforeClose:b[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,a=e.bodyOpenClassName;a&&d.add(document.body,a),r&&d.add(document.getElementsByTagName("html")[0],r),n&&(O+=1,p.hide(t)),m.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,a=e.overlayClassName,o=e.defaultStyles,i=n?{}:o.content,l=a?{}:o.overlay;return this.shouldBeClosed()?null:s.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",a),style:r({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},s.default.createElement("div",r({id:t,ref:this.setContentRef,style:r({},i,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",this.props.aria||{}),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}(i.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(f.default),onAfterOpen:l.default.func,onAfterClose:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,data:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,id:l.default.string,testId:l.default.string},t.default=w,e.exports=t.default},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},S1to:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,a=t.shiftKey,i=n[0],s=n[n.length-1];if(e===document.activeElement){if(!a)return;r=s}s!==document.activeElement||a||(r=i);i===document.activeElement&&a&&(r=s);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=a?-1:1);if("undefined"===typeof(r=n[c]))return t.preventDefault(),void(r=a?s:i).focus();t.preventDefault(),r.focus()};var r,a=n("ZDLa"),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},UIKY:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]};t.default=r,e.exports=t.default},VCL8:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var l=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),r.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},VKEO:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){i.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==i.length&&(e=i.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){i.length>0&&i.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var r,a=n("ZDLa"),o=(r=a)&&r.__esModule?r:{default:r};var i=[],s=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},WkvU:function(e,t,n){"use strict";var r,a=n("UIKY"),o=(r=a)&&r.__esModule?r:{default:r};var i=void 0,s=void 0,l=[];function c(){0!==l.length&&l[l.length-1].focusContent()}o.default.subscribe((function(e,t){i&&s||((i=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),i.style.position="absolute",i.style.opacity="0",i.setAttribute("tabindex","0"),i.addEventListener("focus",c),(s=i.cloneNode()).addEventListener("focus",c)),(l=t).length>0?(document.body.firstChild!==i&&document.body.insertBefore(i,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(i.parentElement&&i.parentElement.removeChild(i),s.parentElement&&s.parentElement.removeChild(s))}))},XY5M:function(e,t,n){},Xuae:function(e,t,n){"use strict";var r=n("/GRZ"),a=n("tCBg"),o=n("T0f4"),i=n("qXWd"),s=n("i2R6"),l=n("48fX"),c=n("mPvQ");Object.defineProperty(t,"__esModule",{value:!0});var u=n("q1tI"),p=!1;t.default=function(){var e,t=new Set;function n(n){e=n.props.reduceComponentsToState(c(t),n.props),n.props.handleStateChange&&n.props.handleStateChange(e)}return function(c){function u(e){var s;return r(this,u),s=a(this,o(u).call(this,e)),p&&(t.add(i(s)),n(i(s))),s}return l(u,c),s(u,null,[{key:"rewind",value:function(){var n=e;return e=void 0,t.clear(),n}}]),s(u,[{key:"componentDidMount",value:function(){t.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){t.delete(this),n(this)}},{key:"render",value:function(){return null}}]),u}(u.Component)}},Ye7m:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=l,t.setElement=function(e){var t=e;if("string"===typeof t&&i.canUseDOM){var n=document.querySelectorAll(t);l(n,t),t="length"in n?n[0]:n}return s=t||s},t.validateElement=c,t.hide=function(e){c(e)&&(e||s).setAttribute("aria-hidden","true")},t.show=function(e){c(e)&&(e||s).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){s=null},t.resetForTesting=function(){s=null};var r,a=n("2W6z"),o=(r=a)&&r.__esModule?r:{default:r},i=n("2zs7");var s=null;function l(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){return!(!e&&!s)||((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},ZDLa:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(i)};var r=/input|select|textarea|button|object/;function a(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0:"none"==n.getPropertyValue("display")}function o(e,t){var n=e.nodeName.toLowerCase();return(r.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(a(t))return!1;t=t.parentNode}return!0}(e)}function i(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&o(e,!n)}e.exports=t.default},fJyB:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("TSYQ"),i=n.n(o),s=n("N7Tt"),l=n("8Kt/"),c=n.n(l),u=a.a.createElement,p=function(e){var t=e.title,n=e.description;return u(c.a,null,u("title",{key:"title"},t?"".concat(t," | Satellite stamp"):"Satellite stamp"),u("meta",{key:"description",name:"description",content:n||"Tool to generate map images for Mongabay."}))};p.defaultProps={title:null,description:null};var d=p,f=a.a.createElement,m=function(){return f("svg",{"aria-hidden":"true",style:{position:"absolute",width:0,height:0,overflow:"hidden"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},f("defs",null,f("symbol",{id:"icon-close",viewBox:"0 0 9 9"},f("title",null,"Close"),f("path",{d:"M7.41.839l1.087 1.087-7.07 7.071L.338 7.91z"}),f("path",{d:"M8.498 7.91L7.41 8.998.339 1.927 1.427.839z"})),f("symbol",{id:"icon-bottom-arrow",viewBox:"0 0 15 15"},f("title",null,"Bottom arrow"),f("path",{strokeWidth:"2",d:"M3 5l4.5 5L12 5",fill:"none"})),f("symbol",{id:"icon-eye",viewBox:"0 0 22 15"},f("title",null,"Visible"),f("path",{d:"M11 0C6 0 1.73 3.11 0 7.5 1.73 11.89 6 15 11 15s9.27-3.11 11-7.5C20.27 3.11 16 0 11 0zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"})),f("symbol",{id:"icon-slashed-eye",viewBox:"0 0 23 21"},f("title",null,"Hidden"),f("path",{d:"M22.763 9.992a18.948 18.948 0 0 0-3.133-3.619L8.367 17.637c.997.324 2.039.493 3.088.5 6.75 0 11.125-6.838 11.308-7.13a.955.955 0 0 0 0-1.015zM21.674.28a.955.955 0 0 0-1.349 0l-3.873 3.873a10.746 10.746 0 0 0-4.997-1.29C4.705 2.864.329 9.702.146 9.994a.955.955 0 0 0 0 1.015 19.027 19.027 0 0 0 4.638 4.813L2.19 18.416a.955.955 0 1 0 1.349 1.35L21.674 1.629a.955.955 0 0 0 0-1.35zM7.636 10.5a3.818 3.818 0 0 1 3.819-3.818 3.708 3.708 0 0 1 1.92.548l-5.19 5.19a3.717 3.717 0 0 1-.549-1.92z"})),f("symbol",{id:"icon-opacity",viewBox:"0 0 16 16"},f("title",null,"Opacity"),f("path",{d:"M7 0v15.876A8.001 8.001 0 0 1 7 0zm5.001 1.009v13.858a7.95 7.95 0 0 1-2 .819V.19a7.95 7.95 0 0 1 2 .819zm2 1.639A7.97 7.97 0 0 1 16 7.938a7.97 7.97 0 0 1-1.999 5.29V2.648z"})),f("symbol",{id:"icon-one-map",viewBox:"0 0 45 35"},f("title",null,"One map"),f("rect",{x:".5",y:".5",width:"44",height:"34",rx:"4"})),f("symbol",{id:"icon-two-maps-horizontal",viewBox:"0 0 45 35"},f("title",null,"Two horizontal maps"),f("rect",{x:".5",y:".5",width:"44",height:"15",rx:"4"}),f("rect",{x:".5",y:"19.5",width:"44",height:"15",rx:"4"})),f("symbol",{id:"icon-two-maps-vertical",viewBox:"0 0 45 35"},f("title",null,"Two vertical maps"),f("rect",{x:".5",y:".5",width:"20",height:"34",rx:"3"}),f("rect",{x:"24.5",y:".5",width:"20",height:"34",rx:"3"})),f("symbol",{id:"icon-four-maps",viewBox:"0 0 45 35"},f("title",null,"Four maps"),f("rect",{x:".5",y:".5",width:"20",height:"15",rx:"4"}),f("rect",{x:".5",y:"19.5",width:"20",height:"15",rx:"4"}),f("rect",{x:"24.5",y:".5",width:"20",height:"15",rx:"4"}),f("rect",{x:"24.5",y:"19.5",width:"20",height:"15",rx:"4"})),f("symbol",{id:"icon-animated-map",viewBox:"0 0 45 35"},f("title",null,"Animated map"),f("rect",{x:".5",y:".5",width:"44",height:"34",rx:"4"}),f("path",{d:"M17.5 9.852v15.064l13.475-7.532L17.5 9.852z",fill:"white"}))))},v=(n("03wo"),a.a.createElement),h=function(e){var t=e.className,n=e.children;return v("div",{className:i()("l-simple-page",t)},v(d,null),v("main",{className:"l-static-page"},v("img",{src:"".concat((void 0,""),"/images/mongabay-horizontal.jpg"),alt:"Mongabay",className:"logo"}),n),v(m,null),v(s.Icons,null))};h.defaultProps={className:null};var b=h,y=n("/MKj"),g=n("yeIB"),O=n("+XsK"),w=n("HqZR"),x=n("PxUR"),j=n("rePB"),C=n("8L3F");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P="5.2.1";function k(e,t){e.innerHTML=t}function N(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function S(e,t){return{}.hasOwnProperty.call(e,t)}function D(e){return T(e)?[e]:function(e){return A(e,"NodeList")}(e)?W(e):Array.isArray(e)?e:W(document.querySelectorAll(e))}function M(e,t,n){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(n)?n[t]:n:r}return e}function L(e,t){return e&&e.modifiers&&e.modifiers[t]}function A(e,t){var n={}.toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function T(e){return A(e,"Element")}function _(e){return A(e,"MouseEvent")}function F(e,t){return"function"===typeof e?e.apply(void 0,t):e}function I(e,t,n,r){e.filter((function(e){return e.name===t}))[0][n]=r}function B(){return document.createElement("div")}function R(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function V(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function U(e,t){return 0===t?e:function(r){clearTimeout(n),n=setTimeout((function(){e(r)}),t)};var n}function z(e,t,n){e&&e!==t&&e.apply(void 0,n)}function W(e){return[].slice.call(e)}function H(e,t){for(;e;){if(t(e))return e;e=e.parentElement}return null}function q(e,t){return e.indexOf(t)>-1}function Y(e){return e.split(/\s+/).filter(Boolean)}function K(e,t){return void 0!==e?e:t}function Q(e){return[].concat(e)}function G(e){var t=Q(e)[0];return t&&t.ownerDocument||document}function X(e,t){-1===e.indexOf(t)&&e.push(t)}function J(e){return"number"===typeof e?e:parseFloat(e)}function Z(e,t,n){void 0===t&&(t=5);var r={top:0,right:0,bottom:0,left:0};return Object.keys(r).reduce((function(r,a){return r[a]="number"===typeof t?t:t[a],e===a&&(r[a]="number"===typeof t?t+n:t[e]+n),r}),r)}var $=E({allowHTML:!0,animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),ee=Object.keys($),te=["arrow","boundary","distance","flip","flipBehavior","flipOnUpdate","offset","placement","popperOptions"],ne=function(e){Object.keys(e).forEach((function(t){$[t]=e[t]}))};function re(e){var t=(e.plugins||[]).reduce((function(t,n){var r=n.name,a=n.defaultValue;return r&&(t[r]=void 0!==e[r]?e[r]:a),t}),{});return E({},e,{},t)}function ae(e,t){var n=E({},t,{content:F(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(re(E({},$,{plugins:t}))):ee).reduce((function(t,n){var r=(e.getAttribute("data-tippy-"+n)||"").trim();if(!r)return t;if("content"===n)t[n]=r;else try{t[n]=JSON.parse(r)}catch(a){t[n]=r}return t}),{})}(e,t.plugins));return n.interactive&&(n.aria=null),n}var oe={passive:!0},ie="tippy-iOS",se="tippy-popper",le="tippy-tooltip",ce="tippy-content",ue="tippy-arrow",pe="tippy-svg-arrow",de="."+se,fe="."+le,me="."+ce,ve="."+ue,he="."+pe,be={isTouch:!1},ye=0;function ge(){be.isTouch||(be.isTouch=!0,window.performance&&document.addEventListener("mousemove",Oe))}function Oe(){var e=performance.now();e-ye<20&&(be.isTouch=!1,document.removeEventListener("mousemove",Oe)),ye=e}function we(){var e=document.activeElement;if(N(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var xe="undefined"!==typeof window&&"undefined"!==typeof document,je=xe?navigator.userAgent:"",Ce=/MSIE |Trident\//.test(je),Ee=xe&&/iPhone|iPad|iPod/.test(navigator.platform);function Pe(e){var t=e&&Ee&&be.isTouch;document.body.classList[t?"add":"remove"](ie)}function ke(e){return e.split("-")[0]}function Ne(e){e.setAttribute("data-inertia","")}function Se(e){e.setAttribute("data-interactive","")}function De(e,t){if(T(t.content))k(e,""),e.appendChild(t.content);else if("function"!==typeof t.content){e[t.allowHTML?"innerHTML":"textContent"]=t.content}}function Me(e){return{tooltip:e.querySelector(fe),content:e.querySelector(me),arrow:e.querySelector(ve)||e.querySelector(he)}}function Le(e){var t=B();return!0===e?t.className=ue:(t.className=pe,T(e)?t.appendChild(e):k(t,e)),t}function Ae(e,t,n){var r,a=Me(e),o=a.tooltip,i=a.content,s=a.arrow;e.style.zIndex=""+n.zIndex,o.setAttribute("data-animation",n.animation),o.style.maxWidth="number"===typeof(r=n.maxWidth)?r+"px":r,n.role?o.setAttribute("role",n.role):o.removeAttribute("role"),t.content!==n.content&&De(i,n),!t.arrow&&n.arrow?(o.appendChild(Le(n.arrow)),o.setAttribute("data-arrow","")):t.arrow&&!n.arrow?(o.removeChild(s),o.removeAttribute("data-arrow")):t.arrow!==n.arrow&&(o.removeChild(s),o.appendChild(Le(n.arrow))),!t.interactive&&n.interactive?Se(o):t.interactive&&!n.interactive&&function(e){e.removeAttribute("data-interactive")}(o),!t.inertia&&n.inertia?Ne(o):t.inertia&&!n.inertia&&function(e){e.removeAttribute("data-inertia")}(o),t.theme!==n.theme&&(_e(o,"remove",t.theme),_e(o,"add",n.theme))}function Te(e,t,n){["transitionend","webkitTransitionEnd"].forEach((function(r){e[t+"EventListener"](r,n)}))}function _e(e,t,n){Y(n).forEach((function(n){e.classList[t](n+"-theme")}))}var Fe=1,Ie=[],Be=[];function Re(e,t){var n,r,a,o=ae(e,E({},$,{},re(t)));if(!o.multiple&&e._tippy)return null;var i,s,l,c,u,p=!1,d=!1,f=!1,m=0,v=[],h=U(je,o.interactiveDebounce),b=G(o.triggerTarget||e),y=Fe++,g=function(e,t){var n=B();n.className=se,n.style.position="absolute",n.style.top="0",n.style.left="0";var r=B();r.className=le,r.id="tippy-"+e,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1"),_e(r,"add",t.theme);var a=B();return a.className=ce,a.setAttribute("data-state","hidden"),t.interactive&&Se(r),t.arrow&&(r.setAttribute("data-arrow",""),r.appendChild(Le(t.arrow))),t.inertia&&Ne(r),De(a,t),r.appendChild(a),n.appendChild(r),Ae(n,t,t),n}(y,o),O=Me(g),w=(u=o.plugins).filter((function(e,t){return u.indexOf(e)===t})),x=O.tooltip,j=O.content,P=[x,j],k={id:y,reference:e,popper:g,popperChildren:O,popperInstance:null,props:o,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:w,clearDelayTimeouts:function(){clearTimeout(n),clearTimeout(r),cancelAnimationFrame(a)},setProps:function(t){0;if(k.state.isDestroyed)return;0;ie("onBeforeUpdate",[k,t]),we();var n=k.props,r=ae(e,E({},k.props,{},t,{ignoreAttributes:!0}));r.ignoreAttributes=K(t.ignoreAttributes,n.ignoreAttributes),k.props=r,Oe(),n.interactiveDebounce!==r.interactiveDebounce&&(fe(),h=U(je,r.interactiveDebounce));Ae(g,n,r),k.popperChildren=Me(g),n.triggerTarget&&!r.triggerTarget?Q(n.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&e.removeAttribute("aria-expanded");if(pe(),k.popperInstance)if(te.some((function(e){return S(t,e)&&t[e]!==n[e]}))){var a=k.popperInstance.reference;k.popperInstance.destroy(),Ue(),k.popperInstance.reference=a,k.state.isVisible&&k.popperInstance.enableEventListeners()}else k.popperInstance.update();ie("onAfterUpdate",[k,t])},setContent:function(e){k.setProps({content:e})},show:function(e){void 0===e&&(e=M(k.props.duration,0,$.duration));0;var t=k.state.isVisible,n=k.state.isDestroyed,r=!k.state.isEnabled,a=be.isTouch&&!k.props.touch;if(t||n||r||a)return;if(ee().hasAttribute("disabled"))return;k.popperInstance||Ue();if(ie("onShow",[k],!1),!1===k.props.onShow(k))return;ve(),g.style.visibility="visible",k.state.isVisible=!0,k.state.isMounted||R(P.concat(g),0);s=function(){k.state.isVisible&&(R([g],k.props.updateDuration),R(P,e),V(P,"visible"),ue(),pe(),X(Be,k),Pe(!0),k.state.isMounted=!0,ie("onMount",[k]),function(e,t){ye(e,t)}(e,(function(){k.state.isShown=!0,ie("onShown",[k])})))},function(){m=0;var e,t=k.props.appendTo,n=ee();e=k.props.interactive&&t===$.appendTo||"parent"===t?n.parentNode:F(t,[n]);e.contains(g)||e.appendChild(g);0;I(k.popperInstance.modifiers,"flip","enabled",k.props.flip),k.popperInstance.enableEventListeners(),k.popperInstance.update()}()},hide:function(e){void 0===e&&(e=M(k.props.duration,1,$.duration));0;var t=!k.state.isVisible&&!p,n=k.state.isDestroyed,r=!k.state.isEnabled&&!p;if(t||n||r)return;if(ie("onHide",[k],!1),!1===k.props.onHide(k)&&!p)return;he(),g.style.visibility="hidden",k.state.isVisible=!1,k.state.isShown=!1,R(P,e),V(P,"hidden"),ue(),pe(),function(e,t){ye(e,(function(){!k.state.isVisible&&g.parentNode&&g.parentNode.contains(g)&&t()}))}(e,(function(){k.popperInstance.disableEventListeners(),k.popperInstance.options.placement=k.props.placement,g.parentNode.removeChild(g),0===(Be=Be.filter((function(e){return e!==k}))).length&&Pe(!1),k.state.isMounted=!1,ie("onHidden",[k])}))},enable:function(){k.state.isEnabled=!0},disable:function(){k.hide(),k.state.isEnabled=!1},destroy:function(){0;if(k.state.isDestroyed)return;p=!0,k.clearDelayTimeouts(),k.hide(0),we(),delete e._tippy,k.popperInstance&&k.popperInstance.destroy();p=!1,k.state.isDestroyed=!0,ie("onDestroy",[k])}};e._tippy=k,g._tippy=k;var N=w.map((function(e){return e.fn(k)})),D=e.hasAttribute("aria-expanded");return Oe(),pe(),o.lazy||Ue(),ie("onCreate",[k]),o.showOnCreate&&We(),g.addEventListener("mouseenter",(function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()})),g.addEventListener("mouseleave",(function(e){k.props.interactive&&q(k.props.trigger,"mouseenter")&&(h(e),b.addEventListener("mousemove",h))})),k;function A(){var e=k.props.touch;return Array.isArray(e)?e:[e,0]}function T(){return"hold"===A()[0]}function ee(){return c||e}function ne(e){return k.state.isMounted&&!k.state.isVisible||be.isTouch||i&&"focus"===i.type?0:M(k.props.delay,e?0:1,$.delay)}function ie(e,t,n){var r;(void 0===n&&(n=!0),N.forEach((function(n){S(n,e)&&n[e].apply(n,t)})),n)&&(r=k.props)[e].apply(r,t)}function ue(){var t=k.props.aria;if(t){var n="aria-"+t,r=x.id;Q(k.props.triggerTarget||e).forEach((function(e){var t=e.getAttribute(n);if(k.state.isVisible)e.setAttribute(n,t?t+" "+r:r);else{var a=t&&t.replace(r,"").trim();a?e.setAttribute(n,a):e.removeAttribute(n)}}))}}function pe(){D||Q(k.props.triggerTarget||e).forEach((function(e){k.props.interactive?e.setAttribute("aria-expanded",k.state.isVisible&&e===ee()?"true":"false"):e.removeAttribute("aria-expanded")}))}function fe(){b.body.removeEventListener("mouseleave",He),b.removeEventListener("mousemove",h),Ie=Ie.filter((function(e){return e!==h}))}function me(e){if(!k.props.interactive||!g.contains(e.target)){if(ee().contains(e.target)){if(be.isTouch)return;if(k.state.isVisible&&q(k.props.trigger,"click"))return}!0===k.props.hideOnClick&&(d=!1,k.clearDelayTimeouts(),k.hide(),f=!0,setTimeout((function(){f=!1})),k.state.isMounted||he())}}function ve(){b.addEventListener("mousedown",me,!0)}function he(){b.removeEventListener("mousedown",me,!0)}function ye(e,t){function n(e){e.target===x&&(Te(x,"remove",n),t())}if(0===e)return t();Te(x,"remove",l),Te(x,"add",n),l=n}function ge(t,n,r){void 0===r&&(r=!1),Q(k.props.triggerTarget||e).forEach((function(e){e.addEventListener(t,n,r),v.push({node:e,eventType:t,handler:n,options:r})}))}function Oe(){T()&&(ge("touchstart",xe,oe),ge("touchend",Ee,oe)),Y(k.props.trigger).forEach((function(e){if("manual"!==e)switch(ge(e,xe),e){case"mouseenter":ge("mouseleave",Ee);break;case"focus":ge(Ce?"focusout":"blur",Re);break;case"focusin":ge("focusout",Re)}}))}function we(){v.forEach((function(e){var t=e.node,n=e.eventType,r=e.handler,a=e.options;t.removeEventListener(n,r,a)})),v=[]}function xe(e){var t=!1;if(k.state.isEnabled&&!Ve(e)&&!f){if(i=e,c=e.currentTarget,pe(),!k.state.isVisible&&_(e)&&Ie.forEach((function(t){return t(e)})),"click"!==e.type||q(k.props.trigger,"mouseenter")&&!d||!1===k.props.hideOnClick||!k.state.isVisible){var r=A(),a=r[0],o=r[1];be.isTouch&&"hold"===a&&o?n=setTimeout((function(){We(e)}),o):We(e)}else t=!0;"click"===e.type&&(d=!t),t&&He(e)}}function je(t){var n=H(t.target,(function(t){return t===e||t===g}));"mousemove"===t.type&&n||function(e,t){var n=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,a=e.tooltipRect,o=e.interactiveBorder,i=Math.min(t.top,a.top),s=Math.max(t.right,a.right),l=Math.max(t.bottom,a.bottom),c=Math.min(t.left,a.left);return i-r>o||r-l>o||c-n>o||n-s>o}))}(W(g.querySelectorAll(de)).concat(g).map((function(e){var t=e._tippy,n=t.popperChildren.tooltip,r=t.props.interactiveBorder;return{popperRect:e.getBoundingClientRect(),tooltipRect:n.getBoundingClientRect(),interactiveBorder:r}})),t)&&(fe(),He(t))}function Ee(e){if(!Ve(e)&&(!q(k.props.trigger,"click")||!d))return k.props.interactive?(b.body.addEventListener("mouseleave",He),b.addEventListener("mousemove",h),X(Ie,h),void h(e)):void He(e)}function Re(e){(q(k.props.trigger,"focusin")||e.target===ee())&&(k.props.interactive&&e.relatedTarget&&g.contains(e.relatedTarget)||He(e))}function Ve(e){var t="ontouchstart"in window,n=q(e.type,"touch"),r=T();return t&&be.isTouch&&r&&!n||be.isTouch&&!r&&n}function Ue(){var t,n=k.props.popperOptions,r=k.popperChildren.arrow,a=L(n,"flip"),o=L(n,"preventOverflow");function i(e){var n=k.state.currentPlacement;k.state.currentPlacement=e.placement,k.props.flip&&!k.props.flipOnUpdate&&(e.flipped&&(k.popperInstance.options.placement=e.placement),I(k.popperInstance.modifiers,"flip","enabled",!1)),x.setAttribute("data-placement",e.placement),!1!==e.attributes["x-out-of-boundaries"]?x.setAttribute("data-out-of-boundaries",""):x.removeAttribute("data-out-of-boundaries");var r=ke(e.placement),a=q(["top","bottom"],r),o=q(["bottom","right"],r);x.style.top="0",x.style.left="0",x.style[a?"top":"left"]=(o?1:-1)*t+"px",n&&n!==e.placement&&k.popperInstance.update()}var s=E({eventsEnabled:!1,placement:k.props.placement},n,{modifiers:E({},n&&n.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(e){t=function(e,t){var n="string"===typeof t&&q(t,"rem"),r=e.documentElement;return r&&n?parseFloat(getComputedStyle(r).fontSize||String(16))*J(t):J(t)}(b,k.props.distance);var n=ke(e.placement),r=Z(n,o&&o.padding,t),i=Z(n,a&&a.padding,t),s=k.popperInstance.modifiers;return I(s,"preventOverflow","padding",r),I(s,"flip","padding",i),e}},preventOverflow:E({boundariesElement:k.props.boundary},o),flip:E({enabled:k.props.flip,behavior:k.props.flipBehavior},a),arrow:E({element:r,enabled:!!r},L(n,"arrow")),offset:E({offset:k.props.offset},L(n,"offset"))}),onCreate:function(e){i(e),z(n&&n.onCreate,s.onCreate,[e]),ze()},onUpdate:function(e){i(e),z(n&&n.onUpdate,s.onUpdate,[e]),ze()}});k.popperInstance=new C.a(e,g,s)}function ze(){0===m?(m++,k.popperInstance.update()):s&&1===m&&(m++,g.offsetHeight,s())}function We(e){k.clearDelayTimeouts(),k.popperInstance||Ue(),e&&ie("onTrigger",[k,e]),ve();var t=ne(!0);t?n=setTimeout((function(){k.show()}),t):k.show()}function He(e){if(k.clearDelayTimeouts(),ie("onUntrigger",[k,e]),k.state.isVisible){if(!(q(k.props.trigger,"mouseenter")&&q(k.props.trigger,"click")&&q(["mouseleave","mousemove"],e.type)&&d)){var t=ne(!1);t?r=setTimeout((function(){k.state.isVisible&&k.hide()}),t):a=requestAnimationFrame((function(){k.hide()}))}}else he()}}function Ve(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]),n=$.plugins.concat(t.plugins||n),document.addEventListener("touchstart",ge,E({},oe,{capture:!0})),window.addEventListener("blur",we);var r=E({},t,{plugins:n}),a=D(e).reduce((function(e,t){var n=t&&Re(t,r);return n&&e.push(n),e}),[]);return T(e)?a[0]:a}Ve.version=P,Ve.defaultProps=$,Ve.setDefaultProps=ne,Ve.currentInput=be;var Ue={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,n=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var a=null,o=null;function i(){var s=r("reference")?(e.popperInstance?e.popperInstance.reference:t).getBoundingClientRect():null,l=r("popper")?n.getBoundingClientRect():null;(s&&ze(a,s)||l&&ze(o,l))&&e.popperInstance.update(),a=s,o=l,e.state.isMounted&&requestAnimationFrame(i)}return{onMount:function(){e.props.sticky&&i()}}}};function ze(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}n("17x9");var We=n("i8i4");function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var Ye="undefined"!==typeof window&&"undefined"!==typeof document;function Ke(e,t){e&&("function"===typeof e&&e(t),{}.hasOwnProperty.call(e,"current")&&(e.current=t))}function Qe(e,t,n){n.split(/\s+/).forEach((function(n){n&&e.classList[t](n)}))}var Ge=Ye?r.useLayoutEffect:r.useEffect;function Xe(e,t,n){Ge((function(){var n=e.instance.popperChildren.tooltip;if(t)return Qe(n,"add",t),function(){Qe(n,"remove",t)}}),[t].concat(n))}function Je(e){var t=Object(r.useRef)();return t.current||(t.current="function"===typeof e?e():e),t.current}function Ze(e){var t=e.children,n=e.content,o=e.className,i=e.visible,s=e.singleton,l=e.enabled,c=void 0===l||l,u=e.multiple,p=void 0===u||u,d=e.ignoreAttributes,f=void 0===d||d,m=(e.__source,e.__self,qe(e,["children","content","className","visible","singleton","enabled","multiple","ignoreAttributes","__source","__self"])),v=void 0!==i,h=void 0!==s,b=Object(r.useState)(!1),y=b[0],g=b[1],O=Je((function(){return{container:Ye&&document.createElement("div"),renders:1}})),w=He({ignoreAttributes:f,multiple:p},m,{content:O.container});v&&(w.trigger="manual"),h&&(c=!1);var x=[t.type];return Ge((function(){var e=Ve(O.ref,w);return O.instance=e,c||e.disable(),i&&e.show(),h&&s(e),g(!0),function(){e.destroy()}}),x),Ge((function(){if(1!==O.renders){var e=O.instance;e.setProps(w),c?e.enable():e.disable(),v&&(i?e.show():e.hide())}else O.renders++})),Xe(O,o,x),a.a.createElement(a.a.Fragment,null,Object(r.cloneElement)(t,{ref:function(e){O.ref=e,Ke(t.ref,e)}}),y&&Object(We.createPortal)(n,O.container))}var $e=Object(r.forwardRef)((function(e,t){var n=e.children,o=qe(e,["children"]);return a.a.createElement(Ze,o,Object(r.cloneElement)(n,{ref:function(e){Ke(t,e),Ke(n.ref,e)}}))})),et=(n("uxza"),a.a.createElement);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var nt=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({interactive:!0,placement:"top",popperOptions:{modifiers:{flip:{enabled:!1}}},trigger:"click",arrow:!0,theme:"light"},e),n=t.children;return et($e,t,n)},rt=n("KQm4"),at=n("o0o1"),ot=n.n(at),it=n("sEfC"),st=n.n(it),lt=n("wd/R"),ct=n.n(lt),ut=n("MGXd"),pt=n("VZWS"),dt=function(e,t){var n;return ot.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n=function(t){if(e())t();else var n=setInterval((function(){e()&&(clearInterval(n),t())}),100)},r.abrupt("return",new Promise((function(e){t?setTimeout(n,t,e):n(e)})));case 2:case"end":return r.stop()}}))},ft=function(){var e,t,r,a,o;return ot.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,ot.a.awrap(n.e(17).then(n.t.bind(null,"wOnQ",7)));case 2:return e=i.sent.default,i.next=5,ot.a.awrap(e(document.querySelector(".js-visualization"),{scale:2}));case 5:return t=i.sent,r=t.getContext("2d"),a=r.getImageData(0,0,t.width,t.height),(o=document.createElement("canvas")).width=t.width,o.height=t.height,o.getContext("2d").putImageData(a,0,0),t.width=t.width/2,t.height=t.height/2,r.scale(.5,.5),r.drawImage(o,0,0),i.abrupt("return",t);case 17:case"end":return i.stop()}}))},mt=function(){var e,t,n;return ot.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ot.a.awrap(ft());case 2:e=r.sent,t=e.toDataURL(),(n=document.createElement("a")).setAttribute("download","map.png"),n.setAttribute("href",t),n.click();case 8:case"end":return r.stop()}}))},vt=function(e,t){var r,a;return ot.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,ot.a.awrap(n.e(18).then(n.t.bind(null,"jCbr",7)));case 2:r=o.sent.default,a=new r({workerScript:"/libs/gif-js/gif.worker.js"}),e.forEach((function(n){return a.addFrame(n,{delay:1e3*t/e.length})})),a.on("finished",(function(e){var t=URL.createObjectURL(e),n=document.createElement("a");n.setAttribute("download","map.gif"),n.setAttribute("href",t),n.click()})),a.render();case 7:case"end":return o.stop()}}))},ht=(n("A2uJ"),a.a.createElement);function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt=function(e){var t,n,o,s,l,c=e.width,u=e.height,p=e.mode,d=e.modeParams,f=e.temporalDiffLayers,m=e.animatedLayerStartDate,v=e.animatedLayerEndDate,h=e.exporting,b=e.idle,y=e.updateSettings,g=e.updateExporting,O=e.updateMode,x=e.updateDifference,C=e.updateModeParams,E=e.updateLayer,P=e.updateBasemapParams,k=e.updateProgress,N=Object(r.useState)({width:{value:c,isValid:!0},height:{value:u,isValid:!0}}),S=N[0],D=N[1],M=Object(r.useState)(""),L=M[0],A=M[1],T=Object(r.useState)(5),_=T[0],F=T[1],I=Object(r.useState)(!1),B=I[0],R=I[1],V=Object(r.useRef)(b),U=Object(r.useRef)(h),z=Object(r.useMemo)((function(){return d.layers.length<1||d.dates[0].length<2||!d.dates[0][0]||!d.dates[0][1]||-1===Object.keys(f).indexOf(d.layers[0])?[]:f[d.layers[0]].filter((function(e){return ct()(e.value).isSameOrAfter(ct()(d.dates[0][0]))&&ct()(e.value).isSameOrBefore(ct()(d.dates[0][1]))})).map((function(e){return e.value}))}),[f,d]),W=Object(r.useCallback)(st()(y,500),[y]),H=Object(r.useCallback)((function(e){var t=e.target.name,n=e.target.checkValidity(),r=n?+e.target.value:e.target.value;if(n){var a,o,i="width"===t?"height":"width",s=Math.round("width"===t?r*(2/3):r/(2/3));D((a={},Object(j.a)(a,t,{value:r,isValid:!0}),Object(j.a)(a,i,{value:s,isValid:!0}),a)),W((o={},Object(j.a)(o,t,r),Object(j.a)(o,i,s),o))}else D((function(e){return yt({},e,Object(j.a)({},t,{value:r,isValid:!1}))}))}),[D,W]),q=Object(r.useCallback)((function(e){e.preventDefault(),g(!0),k(0)}),[g,k]),Y=Object(r.useCallback)((function(){var e,t,n,r,a,o,i,s,l,c,u,f;return ot.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:if("animated"===p){m.next=5;break}return m.next=3,ot.a.awrap(mt());case 3:m.next=41;break;case 5:e=[],t=!0,n=!1,r=void 0,m.prev=9,a=z[Symbol.iterator]();case 11:if(t=(o=a.next()).done){m.next=25;break}return s=o.value,w.d[d.layers[0]]?(f=!1!==(null===(u=w.d[d.layers[0]].legend.timeline)||void 0===u?void 0:u.range),E({id:d.layers[0],dateRange:B&&f?[w.d[d.layers[0]].legend.timeline.minDate,w.d[d.layers[0]].legend.timeline.maxDate]:[s,s],currentDate:s})):(l=Object.keys(w.b[d.layers[0]].params)[0],c=w.b[d.layers[0]].legend.timeline.dateFormat,P(Object(j.a)({},l,ct()(s).format(c)))),m.next=16,ot.a.awrap(dt((function(){return V.current.every((function(e){return e}))}),(null===(i=w.d[d.layers[0]])||void 0===i?void 0:i.decodeFunction)?5e3:100));case 16:return m.t0=e,m.next=19,ot.a.awrap(ft());case 19:m.t1=m.sent,m.t0.push.call(m.t0,m.t1),k((z.indexOf(s)+1)/z.length);case 22:t=!0,m.next=11;break;case 25:m.next=31;break;case 27:m.prev=27,m.t2=m.catch(9),n=!0,r=m.t2;case 31:m.prev=31,m.prev=32,t||null==a.return||a.return();case 34:if(m.prev=34,!n){m.next=37;break}throw r;case 37:return m.finish(34);case 38:return m.finish(31);case 39:return m.next=41,ot.a.awrap(vt(e,_));case 41:g(!1);case 42:case"end":return m.stop()}}),null,null,[[9,27,31,39],[32,,34,38]])}),[p,z,d,_,B,g,E,P,k]);return Object(r.useEffect)((function(){var e=[];if(d.layers.forEach((function(t){-1===Object.keys(f).indexOf(t)&&e.push(t)})),e.length>0){var t,n=d.layers.filter((function(t){return-1===e.indexOf(t)})),r=Object(rt.a)(d.dates);if(e.forEach((function(e,t){r.splice(t,1)})),0===r.length&&(r=[new Array(d.dates[0].length).fill("")]),C(yt({},d,{layers:n,dates:r})),-1!==e.indexOf(L))A(null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:"")}}),[d,f,L,C,A]),Object(r.useEffect)((function(){"animated"===p&&d.layers.length>0&&(-1!==Object.keys(f).indexOf(d.layers[0])||C({layers:[],dates:[[""]]}))}),[p,d,f,C]),Object(r.useEffect)((function(){F(5),R(!1)}),[p,F,R]),Object(r.useEffect)((function(){V.current=b;!U.current&&h&&ot.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ot.a.awrap(dt((function(){return V.current.every((function(e){return e}))}),100));case 2:Y();case 3:case"end":return e.stop()}})),U.current=h}),[h,b,Y]),ht("div",{className:"c-export-tooltip"},ht("form",{onSubmit:q},ht("fieldset",null,ht("legend",null,"Map size"),ht("div",{className:"form-row"},ht("div",{className:"form-group col-6"},ht("label",{htmlFor:"export-width"},"Width"),ht("input",{type:"number",id:"export-width",name:"width",className:i()({"form-control":!0,"is-invalid":!S.width.isValid}),pattern:"\\d+",value:S.width.value,min:"150",onChange:H}),ht("div",{className:"invalid-feedback"},0===S.width.value.length&&"Must be a number.",S.width.value.length>0&&"Minimum value: 150.")),ht("div",{className:"form-group col-6"},ht("label",{htmlFor:"export-height"},"Height"),ht("input",{type:"number",id:"export-height",name:"height",className:i()({"form-control":!0,"is-invalid":!S.height.isValid}),pattern:"\\d+",min:"100",value:S.height.value,onChange:H}),ht("div",{className:"invalid-feedback"},0===S.height.value.length&&"Must be a number.",S.height.value.length>0&&"Minimum value: 100.")))),ht("fieldset",{className:"mt-3"},ht("legend",null,"Grid"),ht("div",{className:"form-row"},ht("div",{className:"form-group col grid-buttons"},ht("input",{type:"radio",id:"export-tooltip-grid-1",name:"export-tooltip-grid",value:"1",checked:"1"===p,onChange:function(){return O("1")}}),ht("label",{htmlFor:"export-tooltip-grid-1"},ht(ut.a,{name:"one-map"})),ht("input",{type:"radio",id:"export-tooltip-grid-2-horizontal",name:"export-tooltip-grid",value:"2-horizontal",checked:"2-horizontal"===p,onChange:function(){return O("2-horizontal")}}),ht("label",{htmlFor:"export-tooltip-grid-2-horizontal"},ht(ut.a,{name:"two-maps-horizontal"})),ht("input",{type:"radio",id:"export-tooltip-grid-2-vertical",name:"export-tooltip-grid",value:"2-vertical",checked:"2-vertical"===p,onChange:function(){return O("2-vertical")}}),ht("label",{htmlFor:"export-tooltip-grid-2-vertical"},ht(ut.a,{name:"two-maps-vertical"})),ht("input",{type:"radio",id:"export-tooltip-grid-4",name:"export-tooltip-grid",value:"4",checked:"4"===p,onChange:function(){return O("4")}}),ht("label",{htmlFor:"export-tooltip-grid-4"},ht(ut.a,{name:"four-maps"})),ht("input",{type:"radio",id:"export-tooltip-grid-animated",name:"export-tooltip-grid",value:"animated",checked:"animated"===p,onChange:function(){return O("animated")}}),ht("label",{htmlFor:"export-tooltip-grid-animated"},ht(ut.a,{name:"animated-map"})))),"animated"===p&&ht(a.a.Fragment,null,ht("div",{className:"form-row"},ht("div",{className:"form-group col"},ht("label",{htmlFor:"export-layer-animate"},"Layer to animate"),ht("div",{className:"input-group"},ht(pt.e,{id:"export-layer-animate",value:null!==(t=d.layers[0])&&void 0!==t?t:"",options:[{label:"Select a layer",value:"",disabled:!0}].concat(Object(rt.a)(Object.keys(f).sort((function(e,t){var n,r;return(null!==(n=w.d[e])&&void 0!==n?n:w.b[e]).label.localeCompare((null!==(r=w.d[t])&&void 0!==r?r:w.b[t]).label)})).map((function(e){var t;return{label:(null!==(t=w.d[e])&&void 0!==t?t:w.b[e]).label,value:e}})))),onChange:function(e){var t=e.value;return C(yt({},d,{layers:[t],dates:[[""]]}))},required:!0})))),ht("div",{className:"form-row"},ht("div",{className:"form-group col-6"},ht("label",{htmlFor:"export-start-date"},"Start date"),ht("div",{className:"input-group"},ht(pt.e,{id:"export-start-date",value:null!==(n=null===(o=d.dates[0])||void 0===o?void 0:o[0])&&void 0!==n?n:"",options:[{label:"Select a date",value:"",disabled:!0}].concat(Object(rt.a)(m)),onChange:function(e){var t=e.value,n=Object(rt.a)(d.dates);n[0]=Object(rt.a)(n[0]),n[0].splice(0,1,t),C(yt({},d,{dates:n}))},required:!0}))),ht("div",{className:"form-group col-6"},ht("label",{htmlFor:"export-end-date"},"End date"),ht("div",{className:"input-group"},ht(pt.e,{id:"export-end-date",value:null!==(s=null===(l=d.dates[0])||void 0===l?void 0:l[1])&&void 0!==s?s:"",options:[{label:"Select a date",value:"",disabled:!0}].concat(Object(rt.a)(v)),onChange:function(e){var t=e.value,n=Object(rt.a)(d.dates);n[0]=Object(rt.a)(n[0]),n[0].splice(1,1,t),C(yt({},d,{dates:n}))},required:!0})))),ht("div",{className:"form-row"},ht("div",{className:"form-group col"},ht(pt.a,{id:"export-aggregate",name:"export-aggregate",checked:B,onChange:function(e){var t=e.target;return R(t.checked)}},"Aggregate data over time"),ht("div",{className:"note"},"Note this settings is only available to select layers that allow ranges of data to be selected."))),ht("div",{className:"form-row"},ht("div",{className:"form-group col"},ht("label",{htmlFor:"export-duration"},"Duration"),ht("div",{className:"input-group"},ht("input",{type:"number",id:"export-duration",name:"width",className:"form-control",pattern:"\\d+",value:_,min:"1",onChange:function(e){var t=e.target;return F(+t.value)},required:!0}))))),("2-vertical"===p||"2-horizontal"===p||"4"===p)&&ht(a.a.Fragment,null,ht("div",{className:"form-row"},ht("div",{className:"form-group col"},ht("label",{htmlFor:"export-difference"},"Difference"),ht("div",{className:"input-group"},ht(pt.e,{id:"export-difference",value:d.difference,options:[{label:"Spatial",value:"spatial"},{label:"Temporal",value:"temporal"}],onChange:function(e){var t=e.value;x(t),A("")}})))),"temporal"===d.difference&&ht(a.a.Fragment,null,ht("div",{className:"form-row align-items-end"},ht("div",{className:"form-group col-9"},ht("label",{htmlFor:"export-layers-modify"},"Layers to modify"),ht("div",{className:"input-group"},ht(pt.e,{id:"export-layers-modify",value:L,options:[{label:"Select a layer",value:"",disabled:!0}].concat(Object(rt.a)(Object.keys(f).sort((function(e,t){var n,r;return(null!==(n=w.d[e])&&void 0!==n?n:w.b[e]).label.localeCompare((null!==(r=w.d[t])&&void 0!==r?r:w.b[t]).label)})).map((function(e){var t;return{label:"".concat((null!==(t=w.d[e])&&void 0!==t?t:w.b[e]).label).concat(-1!==d.layers.indexOf(e)?" (in use)":""),value:e}})))),onChange:function(e){var t=e.value;return A(t)},required:!0}))),ht("div",{className:"form-group col-3"},ht("button",{type:"button",className:"btn btn-outline-primary btn-sm",onClick:function(){C(yt({},d,{layers:[],dates:[d.dates[0].map((function(){return""}))]})),A("")}},"Reset all"))),new Array(d.dates[0].length/2).fill(null).map((function(e,t){return ht("div",{key:t,className:"form-row"},d.dates[0].slice(0,2).map((function(e,n){return ht("div",{key:n,className:"form-group col-6"},ht("label",{htmlFor:"export-map-".concat(2*t+n+1)},"Map ",2*t+n+1),ht("div",{className:"input-group"},ht(pt.e,{id:"export-map-".concat(2*t+n+1),value:-1!==d.layers.indexOf(L)?d.dates[d.layers.findIndex((function(e){return e===L}))][2*t+n]:"",options:[{label:"Select a date",value:"",disabled:!0}].concat(Object(rt.a)(L&&f[L]?f[L].map((function(e){return{label:e.label,value:e.value}})):[])),onChange:function(e){var r=e.value,a=Object(rt.a)(d.layers),o=Object(rt.a)(d.dates),i=d.layers.findIndex((function(e){return e===L}));-1===i&&(i=a.length,a.push(L),d.layers.length>0&&o.push("")),o[i]=Object(rt.a)(o[i]),o[i].splice(2*t+n,1,r),C(yt({},d,{layers:a,dates:o}))},required:!0})))})))}))))),ht("button",{type:"submit",className:"btn btn-primary btn-block mt-3",disabled:!S.width.isValid||!S.height.isValid},"Download")))},Ot=Object(y.b)((function(e){return{width:g.c.selectWidth(e),height:g.c.selectHeight(e),mode:g.c.selectMode(e),modeParams:g.c.selectModeParams(e),temporalDiffLayers:g.f.selectExportTemporalDiffLayers(e),animatedLayerStartDate:g.h.selectAnimatedLayerStartDates(e),animatedLayerEndDate:g.h.selectAnimatedLayerEndDates(e),exporting:g.c.selectExporting(e),idle:g.f.selectIdle(e)}}),{updateSettings:g.a.updateSettings,updateExporting:g.a.updateExporting,updateMode:g.g.updateMode,updateDifference:g.g.updateMapDifference,updateModeParams:g.a.updateModeParams,updateLayer:g.d.updateLayer,updateBasemapParams:g.d.updateBasemapParams,updateProgress:g.a.updateProgress})(gt),wt=n("9rZX"),xt=n.n(wt),jt=(n("oG+/"),a.a.createElement);xt.a.setAppElement("#root");var Ct=function(e){var t=e.open,n=e.onClose,r=e.title,a=e.children,o=e.className;return jt(xt.a,{isOpen:t,onRequestClose:n,contentLabel:r,className:["c-modal"].concat(Object(rt.a)(o?[o]:[])).join(" ")},jt("button",{type:"button",className:"btn btn-outline-primary close-button",onClick:n},jt(ut.a,{name:"close"})),jt("div",{className:"content"},a))};Ct.defaultProps={className:null};var Et=Ct,Pt=(n("mp/Q"),a.a.createElement),kt=function(e){var t=e.open,n=e.onClose;return Pt(Et,{title:"Map downloaded",open:t,onClose:n,className:"c-tool-planet-modal"},Pt("h1",{className:"mb-3"},"Map downloaded!"),Pt("p",null,"Check the"," ",Pt("a",{href:"https://mongabay.github.io/visual-style-guide/",target:"_blank",rel:"noopener noreferrer"},"Mongabay Style Guidelines")," ","in case you need to add any further detail on your map."),Pt("button",{type:"button",className:"btn btn-primary btn-block mt-4",onClick:n},"Close"))},Nt=(n("gcOu"),a.a.createElement),St=function(e){var t=e.param,n=e.paramConfig,a=e.paramValue,o=e.onChange,i=Object(r.useMemo)((function(){var e="text";return Array.isArray(n.values)?e="select":void 0===n.values&&"boolean"===typeof n.default&&(e="checkbox"),e}),[n]);return Nt("div",{className:"c-data-layer-list-param"},"checkbox"!==i&&Nt("label",{htmlFor:"data-layer-".concat(t)},n.label),Nt("div",{className:"input-group input-group-sm"},"select"===i&&Nt(pt.e,{id:"data-layer-".concat(t),value:"".concat(null!==a&&void 0!==a?a:n.default),options:n.values.map((function(e){return{label:"".concat(e),value:"".concat(e)}})),onChange:function(e){var t=e.value;return o(t)}}),"checkbox"===i&&Nt(pt.a,{id:"data-layer-".concat(t),name:"data-layer-".concat(t),checked:null!==a&&void 0!==a?a:n.default,onChange:function(e){var t=e.target;return o(t.checked)}},n.label),"text"===i&&Nt("input",{type:"text",id:"data-layer-".concat(t),className:"form-control",value:null!==a&&void 0!==a?a:n.default,onChange:function(e){var t=e.target;return o(t.value)}})))};St.defaultProps={paramSetting:null};var Dt=St,Mt=(n("9tAV"),a.a.createElement);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Tt=Object.keys(w.d).reduce((function(e,t){var n=At({},e),r=w.d[t].group;return n[r]?n[r].layers=[].concat(Object(rt.a)(n[r].layers),[At({},w.d[t],{id:t})]).sort((function(e,t){return e.label.localeCompare(t.label)})):n[r]={label:w.e[r],layers:[At({},w.d[t],{id:t})]},n}),{}),_t=function(e){var t=e.activeLayers,n=e.layers,a=e.removeLayer,o=e.addLayer,i=e.updateLayer;return Mt("div",{className:"c-tool-data-layer-list"},Object.keys(Tt).sort((function(e,t){return Tt[e].label.localeCompare(Tt[t].label)})).map((function(e){return Mt("div",{key:e,className:"group"},Mt("h2",null,Tt[e].label),Tt[e].layers.map((function(e){return Mt(r.Fragment,{key:e.id},Mt(pt.a,{id:"data-layers-".concat(e.id),name:"data-layers",checked:-1!==t.indexOf(e.id),onChange:function(){-1!==t.indexOf(e.id)?a(e.id):o(e.id)}},e.label),-1!==t.indexOf(e.id)&&!!e.params&&Mt("div",{className:"params"},Object.keys(e.params).map((function(t){return Mt(Dt,{key:t,param:t,paramConfig:e.params[t],paramValue:n[e.id][t],onChange:function(n){return i(Object(j.a)({id:e.id},t,n))}})}))))})))})))},Ft=Object(y.b)((function(e){return{activeLayers:g.f.selectActiveDataLayers(e),layers:g.f.selectLayers(e)}}),{addLayer:g.d.addLayer,removeLayer:g.d.removeLayer,updateLayer:g.d.updateLayer})(_t);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(e){var t,n,r,a,o,i,s,l;return ot.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.minDate,n=e.maxDate,r=e.cloudCoverage,a=e.color,o=e.latitude,i=e.longitude,c.prev=1,c.next=4,ot.a.awrap(fetch("https://api.resourcewatch.org/v1/recent-tiles?lat=".concat(o,"&lon=").concat(i,"&start=").concat(t,"&end=").concat(n,"&bands=").concat("0"===a?"":a)).then((function(e){return e.json()})));case 4:return s=c.sent,l=s.data,c.abrupt("return",l.tiles.map((function(e){var t=e.attributes;return{date:t.date_time.split(" ")[0],cloudCoverage:Math.ceil(t.cloud_score),satellite:"LANDSAT_8"===t.instrument?"Landsat 8":t.instrument,source:t.source}})).filter((function(e){return e.cloudCoverage<r})));case 9:return c.prev=9,c.t0=c.catch(1),console.error(c.t0),c.abrupt("return",[]);case 13:case"end":return c.stop()}}),null,null,[[1,9]])},Vt=function(e,t){var n,r,a,o,i,s;return ot.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:n=function(n,r){var a,o,i;return ot.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,ot.a.awrap(fetch("https://api.resourcewatch.org/v1/recent-tiles/thumbs",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({bands:"0"===t?"":t,source_data:e.map((function(e){return{source:e.source}})).slice(n,r)})}).then((function(e){return e.json()})));case 3:return o=s.sent,i=o.data,s.abrupt("return",(null!==(a=null===i||void 0===i?void 0:i.attributes)&&void 0!==a?a:[]).map((function(e){return{source:e.source,thumbnail:e.thumbnail_url}})).reduce((function(e,t){var n=t.source,r=t.thumbnail;return Bt({},e,Object(j.a)({},n,r))}),{}));case 8:return s.prev=8,s.t0=s.catch(0),console.error(s.t0),s.abrupt("return",{});case 12:case"end":return s.stop()}}),null,null,[[0,8]])},r=2,a=Math.ceil(e.length/r),o={},i=0,s=a-1;case 5:if(!(i<s)){l.next=17;break}return l.t0=Bt,l.t1={},l.t2=o,l.t3={},l.next=12,ot.a.awrap(n(i*r,(i+1)*r));case 12:l.t4=l.sent,o=(0,l.t0)(l.t1,l.t2,l.t3,l.t4);case 14:i++,l.next=5;break;case 17:return l.abrupt("return",o);case 18:case"end":return l.stop()}}))},Ut=function(e){var t,n;return ot.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,ot.a.awrap(Rt(e));case 2:return t=r.sent,r.next=5,ot.a.awrap(Vt(t,e.color));case 5:return n=r.sent,r.abrupt("return",t.map((function(e){return Bt({},e,{thumbnail:n[e.source]})})));case 7:case"end":return r.stop()}}))},zt=function(e,t){var n,r;return ot.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ot.a.awrap(fetch("https://api.resourcewatch.org/v1/recent-tiles/tiles",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({bands:"0"===t?"":t,source_data:[{source:e}]})}).then((function(e){return e.json()})));case 3:return n=a.sent,r=n.data,a.abrupt("return",r.attributes[0].tile_url);case 8:return a.prev=8,a.t0=a.catch(0),console.error(a.t0),a.abrupt("return",null);case 12:case"end":return a.stop()}}),null,null,[[0,8]])},Wt=(n("vBK0"),n("hbvv"),a.a.createElement);function Ht(e){var t=e.transparent,n=e.inner,r=e.inline,a=e.mini,o=["c-loading-spinner"];return t&&o.push("-transparent"),n&&o.push("-inner"),r&&o.push("-inline"),a&&o.push("-mini"),Wt("div",{className:o.join(" ")},Wt("svg",null,Wt("circle",{cx:a?9:30,cy:a?9:30,r:a?5:20,fill:"none",strokeWidth:a?2:3,strokeMiterlimit:"10"})))}Ht.defaultProps={transparent:!1,inner:!1,inline:!1,mini:!1};var qt=Ht,Yt=a.a.createElement;function Kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=function(e){var t,n,a=e.viewport,o=e.recentImagery,i=e.updateRecentImagery,s=e.updateViewport,l=Object(r.useState)([]),c=l[0],u=l[1],p=Object(r.useState)(!1),d=p[0],f=p[1],m=Object(r.useState)(null!==(t=null===o||void 0===o?void 0:o.tileSource)&&void 0!==t?t:null),v=m[0],h=m[1],b=Object(r.useState)(null!==(n=null===o||void 0===o?void 0:o.color)&&void 0!==n?n:null),y=b[0],g=b[1],O=void 0!==o&&null!==o,w=Object(r.useCallback)(st()((function(e){var t,n,r,a,o;return ot.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t=e.minDate,n=e.maxDate,r=e.cloudCoverage,a=e.color,o=e.viewport,f(!0),i.t0=u,i.next=5,ot.a.awrap(Ut(Qt({minDate:t,maxDate:n,cloudCoverage:r,color:a},o)));case 5:i.t1=i.sent,(0,i.t0)(i.t1),f(!1);case 8:case"end":return i.stop()}}))}),500),[f]),x=Object(r.useCallback)((function(){i(O?null:{minDate:ct()().subtract(3,"months").format("YYYY-MM-DD"),maxDate:ct()().format("YYYY-MM-DD"),cloudCoverage:"25",color:"0"}),!O&&a.zoom<9&&s(Qt({},a,{zoom:9}))}),[O,a,i,s]),j=Object(r.useCallback)((function(e){return i(Qt({},o,{tileSource:e.source,tileInfo:{date:e.date,cloudCoverage:e.cloudCoverage,satellite:e.satellite}}))}),[o,i]);return Object(r.useEffect)((function(){O&&["minDate","maxDate","cloudCoverage","color"].every((function(e){return void 0!==o[e]&&null!==o[e]&&""!==o[e]}))&&w({minDate:o.minDate,maxDate:o.maxDate,cloudCoverage:o.cloudCoverage,color:o.color,viewport:a})}),[O,a,null===o||void 0===o?void 0:o.minDate,null===o||void 0===o?void 0:o.maxDate,null===o||void 0===o?void 0:o.cloudCoverage,null===o||void 0===o?void 0:o.color,w]),Object(r.useEffect)((function(){O&&!d&&c.length>0&&!o.tileSource&&j(c[0])}),[O,c,d,o,j]),Object(r.useEffect)((function(){var e=function(){var e;return ot.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot.a.awrap(zt(o.tileSource,o.color));case 2:e=t.sent,i(Qt({},o,{tileUrl:e}));case 4:case"end":return t.stop()}}))};O&&v!==o.tileSource&&o.tileSource&&(e(),h(o.tileSource)),O&&y!==o.color&&(e(),g(o.color))}),[O,o,v,h,y,g,i]),Yt("div",{className:"c-tool-recent-imagery-settings"},Yt("div",{className:"group"},Yt(pt.a,{id:"contextual-layer-recent-imagery",name:"contextual-layer",checked:O,onChange:x},"Recent satellite imagery"),O&&Yt("div",{className:"params"},Yt("div",{className:"param note"},"Note this layer is only displayed on the single map layout, when non animated."),Yt("div",{className:"param"},Yt("label",{htmlFor:"contextual-layer-recent-imagery-min-date"},"Acquisition minimum date"),Yt("div",{className:"input-group input-group-sm"},Yt(pt.b,{id:"contextual-layer-recent-imagery-min-date",min:"2013-01-01",max:o.maxDate||void 0,value:o.minDate||"",onChange:function(e){var t=e.target;return i(Qt({},o,{minDate:t.value}))}}))),Yt("div",{className:"param"},Yt("label",{htmlFor:"contextual-layer-recent-imagery-max-date"},"Acquisition maximum date"),Yt("div",{className:"input-group input-group-sm"},Yt(pt.b,{id:"contextual-layer-recent-imagery-max-date",min:o.minDate||void 0,max:ct()().format("YYYY-MM-DD"),value:o.maxDate||"",onChange:function(e){var t=e.target;return i(Qt({},o,{maxDate:t.value}))}}))),Yt("div",{className:"param"},Yt("label",{htmlFor:"contextual-layer-recent-imagery-cloud-coverage"},"Maximum cloud coverage percentage"),Yt("div",{className:"input-group input-group-sm"},Yt(pt.d,{id:"contextual-layer-recent-imagery-cloud-coverage",min:"0",max:"100",step:"5",value:o.cloudCoverage||"",onChange:function(e){var t=e.target;return i(Qt({},o,{cloudCoverage:t.value}))},marks:["0%","25%","50%","75%","100%"]}))),Yt("div",{className:"param"},Yt("label",{htmlFor:"contextual-layer-recent-imagery-color"},"Color"),Yt("div",{className:"input-group input-group-sm"},Yt(pt.e,{id:"contextual-layer-recent-imagery-color",value:o.color||"",options:[{label:"Choose option",value:"",disabled:!0},{label:"Natural color",value:"0"},{label:"Vegetation Health",value:"[B8,B11,B2]"}],onChange:function(e){var t=e.value;return i(Qt({},o,{color:t}))}}))),Yt("div",{className:"param"},Yt("label",null,"Tile ",d&&Yt(qt,{inline:!0,mini:!0})),Yt("div",{className:"tiles"},0===c.length&&new Array(4).fill(null).map((function(e,t){return Yt("div",{key:t,className:"tile"})})),c.map((function(e){return Yt("div",{key:e.source,className:"tile",style:{backgroundImage:"url(".concat(e.thumbnail,")")}},Yt(nt,{trigger:"mouseenter focus",placement:"right",interactive:!1,appendTo:function(){return document.body},popperOptions:{modifiers:{flip:{enabled:!1},preventOverflow:{boundariesElement:"viewport"}}},content:Yt("div",{className:"c-tool-recent-imagery-settings-tile-tooltip"},e.date,Yt("br",null),"".concat(e.cloudCoverage,"% cloud coverage"),Yt("br",null),e.satellite)},Yt(pt.c,{id:"contextual-layer-recent-imagery-tile-".concat(e.source),name:"contextual-layer-recent-imargery-tile",checked:e.source===o.tileSource,onChange:function(){return j(e)}},Yt("span",{className:"sr-only"},"Tile from ",e.date," with ",e.cloudCoverage,"% cloud coverage from"," ",e.satellite))),e.source===o.tileSource&&Yt("div",{className:"active-border"}))})))))))};Gt.defaultProps={recentImagery:null};var Xt=Gt,Jt=Object(y.b)((function(e){return{viewport:g.f.selectViewports(e)[0],recentImagery:g.f.selectRecentImagery(e)}}),{updateRecentImagery:g.d.updateRecentImagery,updateViewport:function(e){return g.d.updateViewport({index:0,viewport:e})}})(Xt),Zt=(n("DYhc"),a.a.createElement),$t=function(e){var t=e.showMap,n=e.toggleMap,a=Object(r.useCallback)((function(){return n(!t)}),[t,n]);return Zt("div",{className:"c-tool-inset-map-settings"},Zt("div",{className:"group"},Zt(pt.a,{id:"contextual-layer-inset-map",name:"contextual-layer",checked:t,onChange:a},"Inset map"),t&&Zt("div",{className:"params"},Zt("div",{className:"note"},"Note the inset map is only displayed on the single map layout."))))},en=Object(y.b)((function(e){return{showMap:g.f.selectInsetMap(e)}}),{toggleMap:g.d.updateInsetMap})($t),tn=(n("Cmif"),a.a.createElement),nn=function(e){var t=e.contextualLayers,n=e.addContextualLayer,a=e.removeContextualLayer,o=e.updateContextualLayers,i=Object(r.useCallback)((function(e){if(-1!==t.indexOf(e))a(e);else{var r=w.c[e].group;if(r){var i=Object.keys(w.c).filter((function(e){return w.c[e].group===r}));o([].concat(Object(rt.a)(t.filter((function(e){return-1===i.indexOf(e)}))),[e]))}else n(e)}}),[t,n,a,o]);return tn("div",{className:"c-tool-contextual-layer-list"},Object.keys(w.c).filter((function(e){return!w.c[e].group})).sort((function(e,t){return w.c[e].label.localeCompare(w.c[t].label)})).map((function(e){return tn(pt.a,{key:e,id:"contextual-layer-".concat(e),name:"contextual-layer",checked:-1!==t.indexOf(e),onChange:function(){return i(e)}},w.c[e].label)})),Object.keys(w.c).filter((function(e){return w.c[e].group})).reduce((function(e,t){var n=w.c[t].group,r=e.findIndex((function(e){return e.group===n}));if(-1!==r){var a=Object(rt.a)(e);return a.splice(r,1,{group:n,items:[].concat(Object(rt.a)(e[r].items),[t])}),a}return[].concat(Object(rt.a)(e),[{group:n,items:[t]}])}),[]).map((function(e){return tn("div",{key:e,className:"group"},e.items.sort((function(e,t){return w.c[e].label.localeCompare(w.c[t].label)})).map((function(e){return tn(pt.c,{key:e,id:"contextual-layer-".concat(e),name:"contextual-layer-".concat(w.c[e].group),checked:-1!==t.indexOf(e),onChange:function(){return i(e)}},w.c[e].label)})))})),tn(en,null),tn(Jt,null))},rn=Object(y.b)((function(e){return{contextualLayers:g.f.selectContextualLayers(e)}}),{updateContextualLayers:g.d.updateContextualLayers,addContextualLayer:g.d.addContextualLayer,removeContextualLayer:g.d.removeContextualLayer})(nn),an=n("SqAy");function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ln=function(e){var t,n,r;return ot.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ot.a.awrap(fetch("https://api.planet.com/basemaps/v1/mosaics?api_key=".concat(e,"&_page_size=1000")));case 3:return t=a.sent,a.next=6,ot.a.awrap(t.json());case 6:return n=a.sent,r=n.mosaics,a.abrupt("return",r.reverse().map((function(e){var t=e.name,n=e.interval,r=e.first_acquired,a=e.last_acquired,o=Math.max(1,ct()(a).diff(ct()(r),"months")),i="1 mon"===n&&o>1,s="3 mons"===n;return"1 mon"===n&&1===o?["Monthly",ct()(r).format("MMM YYYY"),t]:i?["Several months","".concat(ct()(r).format("MMM YYYY")," - ").concat(ct()(a).format("MMM YYYY")),t]:s?["Quarterly","Q".concat(ct()(r).format("Q")," ").concat(ct()(r).format("YYYY")),t]:(console.warn("Planet basemap: aquisition interval not supported."),null)})).filter((function(e){return null!==e})).reduce((function(e,t){return sn({},e,Object(j.a)({},t[0],[].concat(Object(rt.a)(e[t[0]]||[]),[{label:t[1],value:t[2]}])))}),{}));case 11:return a.prev=11,a.t0=a.catch(0),a.abrupt("return",null);case 14:case"end":return a.stop()}}),null,null,[[0,11]])},cn=a.a.createElement;function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dn=function(e){var t=e.basemapParams,n=e.updatebasemapParams,a=Object(r.useState)(null),o=a[0],i=a[1];return Object(r.useEffect)((function(){var e;(null===t||void 0===t?void 0:null===(e=t.key)||void 0===e?void 0:e.length)>0&&!o&&function(){var e;ot.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ot.a.awrap(ln(t.key));case 2:e=n.sent,i(e);case 4:case"end":return n.stop()}}))}()}),[t,o,i]),cn("div",{className:"basemap-params"},cn("div",{className:"param"},cn("label",{htmlFor:"basemap-planet-key"},an.b.planet.params.key.label),cn("div",{className:"input-group input-group-sm"},cn("input",{type:"text",id:"basemap-planet-key",className:"form-control",value:t.key||"",onChange:function(e){var r=e.target;return n(pn({},t,{key:r.value}))}}))),cn("div",{className:"param"},cn("label",{htmlFor:"basemap-planet-interval"},an.b.planet.params.interval.label),cn("div",{className:"input-group input-group-sm"},cn(pt.e,{id:"basemap-planet-interval",value:t.interval||"",options:[{label:"Choose option",value:"",disabled:!0}].concat(Object(rt.a)((o?Object.keys(o):an.b.planet.params.interval.values).map((function(e){return{label:"".concat(e),value:"".concat(e)}})))),onChange:function(e){var r=e.value;return n(pn({},t,{interval:r,period:""}))}}))),cn("div",{className:"param"},cn("label",{htmlFor:"basemap-planet-period"},an.b.planet.params.period.label),cn("div",{className:"input-group input-group-sm"},cn(pt.e,{id:"basemap-planet-period",value:t.period||"",options:[{label:"Choose option",value:"",disabled:!0}].concat(Object(rt.a)(o&&t.interval&&o[t.interval]?o[t.interval].map((function(e){return{label:e.label,value:e.value}})):[])),onChange:function(e){var r=e.value;return n(pn({},t,{period:r}))}}))))};dn.defaultProps={basemapParams:null};var fn=dn,mn=Object(y.b)((function(e){return{basemapParams:g.f.selectBasemapParams(e)}}),{updatebasemapParams:g.d.updateBasemapParams})(fn),vn=function(e,t,n,r){var a=!!w.b[e].params[t].hiddenInTemporalMode,o=("2-vertical"===n||"2-horizontal"===n||"4"===n)&&"temporal"===r.difference&&-1!==r.layers.indexOf(e),i=!!w.b[e].params[t].hiddenInAnimatedMode,s="animated"===n&&-1!==r.layers.indexOf(e);return(!a||!o)&&(!i||!s)},hn=(n("XY5M"),a.a.createElement);function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gn=function(e){var t=e.basemap,n=e.basemapParams,a=e.mode,o=e.modeParams,i=e.onChangeBasemap,s=e.onChangeBasemapParams,l=Object(r.useCallback)((function(e){return i(yn({basemap:e},w.b[e].params?{params:Object.keys(w.b[e].params).reduce((function(t,n){return yn({},t,Object(j.a)({},n,"".concat(w.b[e].params[n].default)))}),{})}:{}))}),[i]),c=Object(r.useCallback)((function(e,t){return s(yn({},n,Object(j.a)({},e,t)))}),[n,s]);return hn("div",{className:"c-tool-basemap-list"},Object.keys(w.b).sort((function(e,t){return w.b[e].label.localeCompare(w.b[t].label)})).map((function(e){return hn(r.Fragment,{key:e},hn(pt.c,{key:e,id:"basemap-".concat(e),name:"basemap",checked:e===t,onChange:function(){return l(e)}},w.b[e].label),e===t&&w.b[e].params&&"planet"!==t&&hn("div",{className:"basemap-params"},Object.keys(w.b[e].params).filter((function(t){return vn(e,t,a,o)})).map((function(t){return hn("div",{key:t,className:"param"},hn("label",{htmlFor:"basemap-".concat(e,"-").concat(t)},w.b[e].params[t].label),hn("div",{className:"input-group input-group-sm"},Array.isArray(w.b[e].params[t].values)&&hn(pt.e,{id:"basemap-".concat(e,"-").concat(t),value:"".concat(n[t]),options:w.b[e].params[t].values.map((function(e){return{label:"".concat(e),value:"".concat(e)}})),onChange:function(e){var n=e.value;return c(t,n)}}),!Array.isArray(w.b[e].params[t].values)&&hn("input",{type:"text",id:"basemap-".concat(e,"-").concat(t),className:"form-control",value:n[t]||"",onChange:function(e){var n=e.target;return c(t,n.value)}})))})),Object.keys(w.b[e].params).some((function(t){return!vn(e,t,a,o)}))&&hn("div",{className:"param"},hn("div",{className:"note"},"Some settings are hidden because they are not compatible with the current map view."))),e===t&&w.b[e].params&&"planet"===t&&hn(mn,null))})))};gn.defaultProps={basemapParams:null};var On=gn,wn=Object(y.b)((function(e){return{basemap:g.f.selectBasemap(e),basemapParams:g.f.selectBasemapParams(e),mode:g.c.selectMode(e),modeParams:g.c.selectModeParams(e)}}),{onChangeBasemap:g.d.updateBasemap,onChangeBasemapParams:g.d.updateBasemapParams})(On),xn=(n("1+uw"),a.a.createElement),jn=function(e){var t=e.exporting,n=e.onClickPresets,a=Object(r.useState)("data-layers"),o=a[0],i=a[1],s=Object(r.useState)(!1),l=s[0],c=s[1],u=Object(r.useState)(!1),p=u[0],d=u[1];return Object(r.useEffect)((function(){l!==t&&(t||d(!0),c(t))}),[t,l,d,c]),xn("aside",{className:"c-tool-sidebar"},xn(kt,{open:p,onClose:function(){return d(!1)}}),xn(x.a,{multi:!1,expanded:[o],onChange:function(e){var t;return i(null!==(t=e[0])&&void 0!==t?t:null)}},xn(x.b,{id:"data-layers",className:"data-layers"===o?"-expanded":null},xn(x.d,{"aria-level":1},xn("span",{className:"h1"},"Data layers")),xn(x.c,null,xn(Ft,null))),xn(x.b,{id:"contextual-layers",className:"contextual-layers"===o?"-expanded":null},xn(x.d,{"aria-level":1},xn("span",{className:"h1"},"Contextual layers")),xn(x.c,null,xn(rn,null))),xn(x.b,{id:"basemap",className:"basemap"===o?"-expanded":null},xn(x.d,{"aria-level":1},xn("span",{className:"h1"},"Basemap")),xn(x.c,null,xn(wn,null)))),xn("div",{className:"mt-4"},xn(nt,{sticky:"popper",plugins:[Ue],content:xn(Ot,null)},xn("button",{type:"button",className:"btn btn-primary mr-2"},"Export")),xn("button",{type:"button",className:"btn btn-outline-primary",onClick:n},"Map presets")))},Cn=Object(y.b)((function(e){return{activeLayers:g.f.selectActiveDataLayers(e),exporting:g.c.selectExporting(e)}}),{addLayer:g.d.addLayer,removeLayer:g.d.removeLayer})(jn),En=n("wx14"),Pn=n("ODXe"),kn=n("UP1k"),Nn=(n("m77d"),a.a.createElement),Sn=function(e){var t=e.viewport,n=t.latitude,a=t.longitude,o=Object(r.useMemo)((function(){var e=(new kn.c).projectFlat([a,n]),t=Object(Pn.a)(e,2),r=t[0]/512*150,o=(512-t[1])/512*150-6;return o=Math.min(o,100),[r,o=Math.max(0,o)]}),[n,a]),i=o[0],s=o[1];return Nn("div",{className:"c-inset-map"},Nn("div",null,Nn("img",{src:"".concat((void 0,""),"/images/inset-map@2x.png"),alt:"World map"}),Nn("img",{src:"".concat((void 0,""),"/images/inset-map-marker@2x.png"),alt:"Marker",style:{top:"".concat(s,"px"),left:"".concat(i,"px")}})))},Dn=Object(y.b)((function(e){return{viewport:g.f.selectViewports(e)[0]}}))(Sn),Mn=n("Ff2n"),Ln=n("ygVk"),An=a.a.createElement,Tn=function(e){var t=e.layers,n=e.basemap,o=e.contextualLayers,i=e.children,s=e.onChangeViewport,l=Object(Mn.a)(e,["layers","basemap","contextualLayers","children","onChangeViewport"]),c=Object(r.useRef)(null),u=Object(r.useMemo)((function(){var e;return null===(e=c.current)||void 0===e?void 0:e.getMap()}),[c.current]),p=Object(r.useState)(!1),d=p[0],f=p[1],m=Object(r.useCallback)((function(e){f(!0),Object(Ln.d)(e,w.b[n])}),[n]);return Object(r.useEffect)((function(){u&&d&&(Object(Ln.d)(u,w.b[n]),Object(Ln.e)(u,o.map((function(e){return w.c[e]}))))}),[u,d,n,o]),An(w.h,Object(En.a)({ref:c,preserveDrawingBuffer:!0,mapStyle:w.m,onViewportChange:s,onLoad:m},l),(function(e){return An(a.a.Fragment,null,An(w.f,{map:e,providers:{},layers:t}),i)}))};Tn.defaultProps={children:null,onChangeViewport:void 0};var _n=Tn,Fn=Object(y.b)((function(e){return{basemap:g.f.selectBasemap(e),contextualLayers:g.f.selectContextualLayers(e)}}))(_n),In=(n("n7uU"),a.a.createElement),Bn=function(e){var t=e.lat,n=e.lng,r=e.properties,a=e.onClose;return In(w.j,{latitude:t,longitude:n,dynamicPosition:!1,closeButton:!1,onClose:a},In("div",{className:"c-visualization-interactive-feature-popup"},In("button",{type:"button",className:"btn btn-outline-primary close-button",onClick:a},In(ut.a,{name:"close"})),Object.keys(r).map((function(e,t){return In("div",{key:e,className:i()({row:!0,"mt-2":t>0})},In("div",{className:"col-5 label"},e),In("div",{className:"col-7 value"},r[e]||"\u2212"))}))))},Rn=(n("3uSx"),a.a.createElement),Vn=function(e){var t=e.attributions,n=e.exporting;return Rn("div",{className:"c-tool-attributions"},n&&Rn("img",{src:"".concat((void 0,""),"/images/mongabay-horizontal.jpg"),alt:"Mongabay"}),!n&&Rn("div",null),Rn("div",{className:"d-flex align-items-center"},Rn("a",{href:"https://www.mapbox.com/about/maps/",target:"_blank",rel:"noopener noreferrer",className:"d-inline-block mt-1"},Rn("svg",{width:"70",height:"18",viewBox:"0 0 70 18"},Rn("title",null,"Mapbox"),Rn("g",{fillRule:"nonzero",fill:"none",opacity:".601"},Rn("path",{d:"M62.205 11.985a4.513 4.513 0 0 1-2.937 1.08A4.51 4.51 0 0 1 55.4 10.89c-.738 1.301-2.092 2.175-3.637 2.175a4.073 4.073 0 0 1-1.767-.399 1.15 1.15 0 0 1-.688.228h-1.155c-.64 0-1.162-.522-1.162-1.163v-.625c-.76 1.18-2.049 1.959-3.507 1.959-.447 0-.882-.071-1.293-.208v1.545c0 .64-.521 1.163-1.162 1.163h-1.154c-.64 0-1.162-.523-1.162-1.163v-2.066a1.162 1.162 0 0 1-.991.558h-1.155c-.26 0-.5-.086-.694-.23a4.092 4.092 0 0 1-1.761.4c-1.34 0-2.535-.655-3.31-1.676v.342c0 .642-.521 1.163-1.162 1.163h-1.163c-.64 0-1.16-.52-1.16-1.161V7.94c0-.275-.19-.44-.373-.44-.123 0-.284.181-.337.448l.009 3.78c0 .643-.522 1.164-1.162 1.164h-1.163c-.64 0-1.162-.52-1.162-1.161V7.94c0-.275-.188-.44-.372-.44-.133 0-.337.222-.355.57v3.66c0 .641-.52 1.162-1.16 1.162h-1.155c-.64 0-1.162-.52-1.162-1.161V5.53c0-.641.521-1.163 1.162-1.163h1.155c.21 0 .406.056.576.155a3.16 3.16 0 0 1 1.396-.327c.805 0 1.556.27 2.152.746a3.244 3.244 0 0 1 2.024-.746c1.431 0 2.655.85 3.158 2.05.752-1.232 2.069-2.05 3.564-2.05.62 0 1.22.137 1.766.399.193-.142.43-.227.689-.227h1.155c.486 0 .903.3 1.076.725.173-.424.59-.725 1.077-.725h1.154c.26 0 .5.086.693.23a4.096 4.096 0 0 1 1.762-.403c1.458 0 2.747.779 3.507 1.96V2.86c0-.641.521-1.162 1.162-1.162h1.155c.64 0 1.16.52 1.16 1.162v1.548c.416-.14.853-.213 1.295-.213 1.545 0 2.899.874 3.637 2.176a4.51 4.51 0 0 1 3.867-2.176c1.129 0 2.161.413 2.952 1.093.104-.523.568-.92 1.122-.92h1.336c.447 0 .852.227 1.081.607l.33.552.33-.554c.223-.378.639-.613 1.084-.613h1.335c.23 0 .45.065.634.189.529.353.67 1.068.319 1.591l-1.625 2.474 1.68 2.555.025.052c.086.17.129.35.129.538 0 .63-.514 1.144-1.145 1.144h-1.318c-.445 0-.861-.235-1.086-.614l-.352-.587-.356.591a1.27 1.27 0 0 1-1.083.61h-1.335c-.223 0-.438-.062-.622-.181a1.182 1.182 0 0 1-.498-.736zm1.54-2.954l.269-.409-.27-.411a4.413 4.413 0 0 1 .001.82zM50.48 8.62c.004.628.461 1.114 1.017 1.114.561 0 1.018-.495 1.018-1.103 0-.609-.457-1.105-1.018-1.105-.56 0-1.008.48-1.017 1.094zm7.762.01c0 .61.457 1.104 1.018 1.104.561 0 1.018-.495 1.018-1.103 0-.609-.457-1.105-1.018-1.105-.561 0-1.018.496-1.018 1.105zm-24.879 0c0 .61.457 1.104 1.018 1.104.556 0 1.012-.486 1.017-1.086-.005-.635-.46-1.122-1.017-1.122-.561 0-1.018.496-1.018 1.105zM42.2 8.62c.005.629.462 1.115 1.018 1.115.561 0 1.018-.495 1.018-1.103 0-.609-.457-1.105-1.018-1.105-.56 0-1.008.48-1.018 1.093zM0 8.63C0 3.87 3.872 0 8.63 0c4.76 0 8.63 3.87 8.63 8.63 0 4.758-3.87 8.63-8.63 8.63-4.758 0-8.63-3.872-8.63-8.63z",fill:"#FFF"}),Rn("path",{d:"M51.496 10.707c1.095 0 1.99-.93 1.99-2.077 0-1.145-.886-2.076-1.99-2.076-1.093 0-1.971.913-1.99 2.05v.052c.01 1.138.897 2.05 1.99 2.05zm.268-5.54c1.8 0 3.256 1.55 3.256 3.463 0 1.912-1.456 3.463-3.256 3.463a3.134 3.134 0 0 1-2.266-.973v.612a.19.19 0 0 1-.189.19h-1.155a.192.192 0 0 1-.19-.19V2.859c0-.104.087-.19.19-.19h1.155c.103 0 .189.086.189.19V6.14a3.147 3.147 0 0 1 2.266-.973zm7.495 5.54c1.094 0 1.99-.93 1.99-2.077 0-1.145-.896-2.076-1.99-2.076-1.095 0-1.99.93-1.99 2.076s.887 2.077 1.99 2.077zm.009-5.54c1.946 0 3.523 1.55 3.523 3.463 0 1.912-1.577 3.463-3.523 3.463-1.948 0-3.524-1.55-3.524-3.463 0-1.912 1.576-3.463 3.524-3.463zm-24.888 5.54c1.094 0 1.98-.913 1.99-2.05v-.053c-.01-1.137-.896-2.05-1.99-2.05-1.095 0-1.99.93-1.99 2.076s.887 2.077 1.99 2.077zm3.343-5.368c.103 0 .19.087.19.19v6.203c0 .103-.087.19-.19.19h-1.155a.19.19 0 0 1-.19-.19v-.612a3.147 3.147 0 0 1-2.265.973c-1.8 0-3.256-1.55-3.256-3.463 0-1.912 1.455-3.463 3.256-3.463.861 0 1.67.354 2.266.973V5.53a.19.19 0 0 1 .189-.19h1.155zm5.495 5.368c1.103 0 1.99-.93 1.99-2.077 0-1.145-.887-2.076-1.99-2.076-1.093 0-1.972.913-1.99 2.05v.052c.009 1.138.897 2.05 1.99 2.05zm.267-5.54c1.8 0 3.257 1.55 3.257 3.463 0 1.912-1.457 3.463-3.257 3.463-.86 0-1.67-.354-2.266-.973v3.282c0 .103-.086.19-.19.19h-1.153a.191.191 0 0 1-.19-.19V5.53c0-.103.086-.19.19-.19h1.154c.103 0 .19.087.19.19v.611a3.147 3.147 0 0 1 2.265-.973zm-16.083 0c1.335 0 2.42 1.025 2.42 2.3l.01 4.264c0 .104-.087.19-.19.19h-1.164a.191.191 0 0 1-.189-.19V7.94c0-.801-.612-1.413-1.344-1.413-.662 0-1.206.586-1.309 1.344l.008 3.859c0 .104-.086.19-.19.19h-1.161a.192.192 0 0 1-.191-.19V7.94c0-.801-.61-1.413-1.344-1.413-.706 0-1.283.663-1.327 1.49v3.713c0 .104-.085.19-.188.19h-1.154a.192.192 0 0 1-.19-.19V5.529c0-.103.086-.19.19-.19h1.154a.19.19 0 0 1 .188.19v.551a2.212 2.212 0 0 1 1.783-.913 2.435 2.435 0 0 1 2.172 1.292 2.255 2.255 0 0 1 2.016-1.292zm41.6 6.487a.221.221 0 0 1 .025.103.173.173 0 0 1-.172.172h-1.318a.29.29 0 0 1-.25-.137L66.1 9.811l-1.189 1.981a.291.291 0 0 1-.25.137h-1.336a.18.18 0 0 1-.094-.025.179.179 0 0 1-.051-.24l1.997-3.042-1.981-3.016a.178.178 0 0 1-.025-.094c0-.095.078-.172.172-.172h1.336c.103 0 .197.051.25.137l1.162 1.947 1.163-1.955a.289.289 0 0 1 .25-.138h1.335c.035 0 .069.009.095.025a.179.179 0 0 1 .05.242l-1.98 3.015 2 3.041zm-56.736-1.146c1.455-1.456 1.404-3.876-.12-5.393C10.62 3.6 8.207 3.54 6.751 4.995 4.125 7.623 4.97 12.29 4.97 12.29s4.679.836 7.297-1.783zM8.63.972a7.659 7.659 0 1 1-.001 15.317 7.659 7.659 0 0 1 0-15.317zm.878 4.488l.75 1.542 1.541.75-1.54.75-.75 1.541-.75-1.542-1.542-.75 1.542-.749.75-1.542z",fill:"#555"})))),Rn("span",{dangerouslySetInnerHTML:{__html:t}})))},Un=Object(y.b)((function(e){return{attributions:g.h.selectAttributions(e)}}))(Vn),zn=(n("Pw9h"),a.a.createElement),Wn=function(e){var t=e.exporting,n=e.progress,o=e.width,s=e.height,l=e.mapsActiveLayersDef,c=e.activeDataLayersInteractiveIds,u=e.mapsTitle,p=e.legendDataLayers,d=e.viewports,f=e.mode,m=e.modeParams,v=e.mapsShowScaleBar,h=e.showInsetMap,b=e.updateLayer,y=e.removeLayer,g=e.updateLayerOrder,O=e.updateViewport,x=e.updateViewports,j=e.updateIdle,C=Object(r.useState)(null),E=C[0],P=C[1],k=Object(r.useCallback)(st()((function(e,t,n){var r={zoom:n.zoom,latitude:n.latitude,longitude:n.longitude,bounds:n.bounds};"temporal"===t&&0===e?x(r):O({index:e,viewport:r})}),500),[O]),N=Object(r.useCallback)((function(e){var t=e.lngLat,n=e.features;if(n.length){var r,a=n[0],o=a.layer.source,i=null===(r=w.d[o])||void 0===r?void 0:r.config.interactiveFeatureFormat;P({lat:t[1],lng:t[0],properties:i?i(a.properties):a.properties})}else P(null)}),[P]);return Object(r.useEffect)((function(){t&&P(null)}),[t,P]),zn("div",{className:i()(["c-tool-visualization","mode-".concat(f),"".concat(t?"exporting":"")])},t&&zn("div",{className:"exporting-message"},"Gathering the tiles and exporting...","animated"===f&&zn("div",{className:"progress"},zn("div",{className:"progress-bar",role:"progressbar",style:{width:"".concat(Math.floor(100*n),"%")},"aria-valuenow":Math.floor(100*n),"aria-valuemin":"0","aria-valuemax":"100"}))),zn("div",{className:"container-width js-visualization",style:t?{width:"".concat(o,"px"),minWidth:"".concat(o,"px")}:void 0},zn("div",{className:"container-ratio",style:t?{height:"".concat(s,"px")}:void 0},zn(w.g,{exporting:t,layers:p,onChangeOpacity:function(e,t){return b({id:e,opacity:t})},onClickToggleVisibility:function(e,t){return b({id:e,visible:t})},onClickRemove:y,onChangeDate:function(e,t){return b({id:e,dateRange:[t[0],t[2]],currentDate:t[1]})},onChangeLayersOrder:g}),zn("div",{className:"map-container",style:t?{width:o,height:s-26}:void 0},d.map((function(e,t){return zn("div",{key:t,className:"map"},u[t]&&zn("div",{className:"title"},u[t].map((function(e){return zn("div",{key:e},e)}))),zn(Fn,{layers:l[t],viewport:d[t],interactiveLayerIds:c,onClick:N,onChangeViewport:0===t||"spatial"===m.difference?function(e){return k(t,m.difference,e)}:void 0,onResize:function(e){var n=e.width,r=e.height;d[t].bounds&&O({index:t,viewport:Object(w.l)(n,r,d[t],d[t].bounds)})},onBusy:function(){return j({index:t,idle:!1})},onIdle:function(){return j({index:t,idle:!0})}},zn(a.a.Fragment,null,E&&zn(Bn,Object(En.a)({},E,{onClose:function(){return P(null)}})),h&&zn(Dn,null),v[t]&&zn("div",{className:"scale-control"},zn(w.k,null)))))}))),zn(Un,{exporting:t}))))},Hn=Object(y.b)((function(e){return{viewports:g.f.selectViewports(e),mapsActiveLayersDef:g.h.selectMapsActiveLayersDef(e),activeDataLayersInteractiveIds:g.f.selectActiveDataLayersInteractiveIds(e),mapsTitle:g.h.selectMapsTitle(e),legendDataLayers:g.h.selectLegendDataLayers(e),width:g.c.selectWidth(e),height:g.c.selectHeight(e),exporting:g.c.selectExporting(e),progress:g.c.selectProgress(e),mode:g.c.selectMode(e),modeParams:g.c.selectModeParams(e),mapsShowScaleBar:g.h.selectMapsShowScaleBar(e),showInsetMap:g.h.selectShowInsetMap(e)}}),{updateViewport:g.d.updateViewport,updateViewports:g.d.updateViewports,updateIdle:g.d.updateIdle,updateBasemap:g.d.updateBasemap,removeLayer:g.d.removeLayer,updateLayer:g.d.updateLayer,updateLayerOrder:g.d.updateLayerOrder})(Wn),qn=(n("7eEg"),a.a.createElement);function Yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Kn=function(e){var t,n=e.basemap,a=e.basemapParams,o=e.updateBasemap,i=e.updateBasemapParams,s=Object(r.useState)(""),l=s[0],c=s[1],u=Object(r.useCallback)((function(){return o({basemap:Object.keys(an.b)[0]})}),[o]),p=Object(r.useCallback)((function(e){e.preventDefault(),l.length&&i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a,{key:l}))}),[l,a,i]);return"planet"!==n||(null===a||void 0===a?void 0:null===(t=a.key)||void 0===t?void 0:t.length)>0?null:qn(Et,{title:"Planet API key",open:!0,onClose:u,className:"c-tool-planet-modal"},qn("h1",{className:"mb-3"},"Planet API key"),qn("p",null,"The Planet basemap requires an API key. Consult ","Planet's ",qn("a",{href:"https://www.planet.com/login/",target:"_blank",rel:"noopener noreferrer"},"website")," ","for more information."),qn("form",{className:"mt-4",onSubmit:p},qn("div",{className:"form-group"},qn("label",{htmlFor:"planet-api-key"},"API key"),qn("input",{type:"text",id:"planet-api-key",className:"form-control",value:l,onChange:function(e){var t=e.target;return c(t.value)}})),qn("button",{type:"submit",className:"btn btn-primary btn-block mt-4"},"Done")))};Kn.defaultProps={basemapParams:null};var Qn=Kn,Gn=Object(y.b)((function(e){return{basemap:g.f.selectBasemap(e),basemapParams:g.f.selectBasemapParams(e)}}),{updateBasemap:g.d.updateBasemap,updateBasemapParams:g.d.updateBasemapParams})(Qn);function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Jn=function(e){var t=e.dataLayers.map((function(e){return Object(Ln.c)(e.id,w.d[e.id],{})})),n=w.b[e.basemap].params,r=Object(Ln.a)(e.basemap,w.b[e.basemap],n?Object.keys(n).reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,Object(j.a)({},t,n[t].default))}),{}):{});return r&&t.push(r),t},Zn=(n("1A1x"),a.a.createElement);function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tr=function(e){var t=e.open,n=e.onClose,a=e.updateActiveLayers,o=e.updateContextualLayers,i=e.updateBasemap,s=Object(r.useCallback)((function(e,t){Object(Ln.d)(e,w.b[t.basemap]),Object(Ln.e)(e,t.contextualLayers.map((function(e){return w.c[e.id]})))}),[]),l=Object(r.useCallback)((function(e){a(w.i[e.id].dataLayers.map((function(e){return e.id})).reverse()),o(w.i[e.id].contextualLayers.map((function(e){return e.id}))),i({basemap:w.i[e.id].basemap,params:w.b[e.basemap].params?Object.keys(w.b[e.basemap].params).reduce((function(t,n){return er({},t,Object(j.a)({},n,w.b[e.basemap].params[n].default))}),{}):{}}),n()}),[a,o,i,n]);return Zn(Et,{title:"Presets",open:t,onClose:n,className:"c-tool-presets-modal"},Zn("ul",{className:"presets-list"},Object.keys(w.i).map((function(e){return er({},w.i[e],{id:e})})).sort((function(e,t){return e.label.localeCompare(t.label)})).map((function(e){return Zn("li",{key:e.id,className:"preset",style:{flexBasis:"calc(".concat(100/Object.keys(w.i).length,"% - (").concat((Object.keys(w.i).length-1)/Object.keys(w.i).length,") * 20px)")}},Zn("button",{type:"button",onClick:function(){return l(e)}},Zn(w.h,{mapStyle:w.m,viewport:{zoom:2,latitude:-20.55,longitude:-58.01,transitionDuration:250,bounds:null},onLoad:function(t){return s(t,e)}},(function(t){return Zn(w.f,{map:t,providers:{},layers:Jn(e)})})),Zn("div",{className:"h1 mt-3 text-center"},e.label)))}))),Zn("button",{type:"submit",className:"btn btn-primary d-block mt-4 mx-auto",onClick:n},"Cancel"))},nr=Object(y.b)(null,{updateActiveLayers:g.d.updateActiveLayers,updateContextualLayers:g.d.updateContextualLayers,updateBasemap:g.d.updateBasemap})(tr),rr=(n("++oL"),a.a.createElement),ar=function(e){var t=e.serializedState,n=e.restoring,o=e.restoreState,i=Object(r.useState)(!1),s=i[0],l=i[1],c=Object(r.useState)(!1),u=c[0],p=c[1];return Object(r.useEffect)((function(){o()}),[o]),Object(r.useEffect)((function(){O.Router.replaceRoute("home",{state:t})}),[t]),Object(r.useEffect)((function(){p(!0),Promise.all(Object.keys(w.d).filter((function(e){return!!w.d[e].init})).map((function(e){return w.d[e].init(w.d[e])}))).then((function(){return p(!1)}))}),[]),rr("div",{className:"c-tool"},(u||n)&&rr(qt,null),!u&&!n&&rr(a.a.Fragment,null,rr(Gn,null),rr(nr,{open:s,onClose:function(){return l(!1)}}),rr(Cn,{onClickPresets:function(){return l(!0)}}),rr(Hn,null)))},or=Object(y.b)((function(e){return{serializedState:g.h.selectSerializedState(e),restoring:g.h.selectRestoring(e)}}),{restoreState:g.g.restoreState})(ar),ir=(n("AOp9"),a.a.createElement);t.default=function(){return ir(b,{className:"p-home"},ir(or,null))}},fbhf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var r={},a={};t.add=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:a,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),n.add(e)}));var n,o},t.remove=function(e,t){return n=e.classList,o="html"==e.nodeName.toLowerCase()?r:a,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&n.remove(e)}));var n,o}},gcOu:function(e,t,n){},hbvv:function(e,t,n){},kG2m:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},lwAK:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI"));t.AmpStateContext=a.createContext({})},m77d:function(e,t,n){},mPvQ:function(e,t,n){var r=n("5fIB"),a=n("rlHP"),o=n("kG2m");e.exports=function(e){return r(e)||a(e)||o()}},"mp/Q":function(e,t,n){},n7uU:function(e,t,n){},"oG+/":function(e,t,n){},qFS3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("q1tI"),i=m(o),s=m(n("i8i4")),l=m(n("17x9")),c=m(n("QEso")),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("Ye7m")),p=n("2zs7"),d=m(p),f=n("VCL8");function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=t.portalClassName="ReactModalPortal",b=t.bodyOpenClassName="ReactModal__Body--open",y=void 0!==s.default.createPortal,g=function(){return y?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function O(e){return e()}var w=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=a=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.removePortal=function(){!y&&s.default.unmountComponentAtNode(a.node);var e=O(a.props.parentSelector);e?e.removeChild(a.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},a.portalRef=function(e){a.portal=e},a.renderPortal=function(e){var n=g()(a,i.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),a.node);a.portalRef(n)},v(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){p.canUseDOM&&(y||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,O(this.props.parentSelector).appendChild(this.node),!y&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:O(e.parentSelector),nextParent:O(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(p.canUseDOM){var r=this.props,a=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var i=n.prevParent,s=n.nextParent;s!==i&&(i.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||a)&&!y&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(p.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return p.canUseDOM&&y?(!this.node&&y&&(this.node=document.createElement("div")),g()(i.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}(o.Component);w.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(d.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,data:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},w.defaultProps={isOpen:!1,portalClassName:h,bodyOpenClassName:b,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},w.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,f.polyfill)(w),t.default=w},rlHP:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},sEfC:function(e,t,n){var r=n("GoyQ"),a=n("QIyF"),o=n("tLB3"),i="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,p,d,f,m,v=0,h=!1,b=!1,y=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=c,r=u;return c=u=void 0,v=t,d=e.apply(r,n)}function O(e){var n=e-m;return void 0===m||n>=t||n<0||b&&e-v>=p}function w(){var e=a();if(O(e))return x(e);f=setTimeout(w,function(e){var n=t-(e-m);return b?l(n,p-(e-v)):n}(e))}function x(e){return f=void 0,y&&c?g(e):(c=u=void 0,d)}function j(){var e=a(),n=O(e);if(c=arguments,u=this,m=e,n){if(void 0===f)return function(e){return v=e,f=setTimeout(w,t),h?g(e):d}(m);if(b)return clearTimeout(f),f=setTimeout(w,t),g(m)}return void 0===f&&(f=setTimeout(w,t)),d}return t=o(t)||0,r(n)&&(h=!!n.leading,p=(b="maxWait"in n)?s(o(n.maxWait)||0,t):p,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==f&&clearTimeout(f),v=0,c=m=u=f=void 0},j.flush=function(){return void 0===f?d:x(a())},j}},tLB3:function(e,t,n){var r=n("GoyQ"),a=n("/9aa"),o=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}},uxza:function(e,t,n){},vBK0:function(e,t,n){}}]);