(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"++oL":function(e,t,n){},"+XsK":function(e,t,n){var r=n("1e5o")();r.add("home","/","index"),r.add("explore","/explore","explore");var a=r;a.Link=r.Link,a.Router=r.Router,e.exports=a},"/0+H":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI")),o=n("lwAK");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ampFirst,n=void 0!==t&&t,r=e.hybrid,a=void 0!==r&&r,o=e.hasQuery;return n||a&&(void 0!==o&&o)}t.isInAmpMode=i,t.useAmp=function(){return i(a.default.useContext(o.AmpStateContext))}},"03wo":function(e,t,n){},"0REo":function(e,t){e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return i(o(e,t))},e.exports.tokensToFunction=i,e.exports.tokensToRegExp=s;var n="/",r="./",a=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function o(e,t){for(var o,i=[],c=0,s=0,d="",p=t&&t.delimiter||n,f=t&&t.delimiters||r,m=!1;null!==(o=a.exec(e));){var h=o[0],v=o[1],y=o.index;if(d+=e.slice(s,y),s=y+h.length,v)d+=v[1],m=!0;else{var b="",g=e[s],x=o[2],w=o[3],E=o[4],O=o[5];if(!m&&d.length){var j=d.length-1;f.indexOf(d[j])>-1&&(b=d[j],d=d.slice(0,j))}d&&(i.push(d),d="",m=!1);var A=""!==b&&void 0!==g&&g!==b,k="+"===O||"*"===O,C="?"===O||"*"===O,P=b||p,I=w||E;i.push({name:x||c++,prefix:b,delimiter:P,optional:C,repeat:k,partial:A,pattern:I?l(I):"[^"+u(P)+"]+?"})}}return(d||s<e.length)&&i.push(d+e.substr(s)),i}function i(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"===typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,r){for(var a="",o=r&&r.encode||encodeURIComponent,i=0;i<e.length;i++){var u=e[i];if("string"!==typeof u){var l,c=n?n[u.name]:void 0;if(Array.isArray(c)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but got array');if(0===c.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var s=0;s<c.length;s++){if(l=o(c[s],u),!t[i].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'"');a+=(0===s?u.prefix:u.delimiter)+l}}else if("string"!==typeof c&&"number"!==typeof c&&"boolean"!==typeof c){if(!u.optional)throw new TypeError('Expected "'+u.name+'" to be '+(u.repeat?"an array":"a string"));u.partial&&(a+=u.prefix)}else{if(l=o(String(c),u),!t[i].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but got "'+l+'"');a+=u.prefix+l}}else a+=u}return a}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$/()])/g,"\\$1")}function c(e){return e&&e.sensitive?"":"i"}function s(e,t,a){for(var o=(a=a||{}).strict,i=!1!==a.start,l=!1!==a.end,s=u(a.delimiter||n),d=a.delimiters||r,p=[].concat(a.endsWith||[]).map(u).concat("$").join("|"),f=i?"^":"",m=0===e.length,h=0;h<e.length;h++){var v=e[h];if("string"===typeof v)f+=u(v),m=h===e.length-1&&d.indexOf(v[v.length-1])>-1;else{var y=v.repeat?"(?:"+v.pattern+")(?:"+u(v.delimiter)+"(?:"+v.pattern+"))*":v.pattern;t&&t.push(v),v.optional?v.partial?f+=u(v.prefix)+"("+y+")?":f+="(?:"+u(v.prefix)+"("+y+"))?":f+=u(v.prefix)+"("+y+")"}}return l?(o||(f+="(?:"+s+")?"),f+="$"===p?"$":"(?="+p+")"):(o||(f+="(?:"+s+"(?="+p+"))?"),m||(f+="(?="+s+"|"+p+")")),new RegExp(f,c(a))}function d(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(d(e[a],t,n).source);return new RegExp("(?:"+r.join("|")+")",c(n))}(e,t,n):function(e,t,n){return s(o(e,n),t,n)}(e,t,n)}},"1e5o":function(e,t,n){"use strict";var r=l(n("0REo")),a=l(n("q1tI")),o=n("QmWs"),i=l(n("YFqc")),u=l(n("nOHt"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}e.exports=function(e){return new m(e)};var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.Link,r=void 0===n?i.default:n,a=t.Router,o=void 0===a?u.default:a;d(this,e),this.routes=[],this.Link=this.getLink(r),this.Router=this.getRouter(o)}return f(e,[{key:"add",value:function(e,t,n){var r;if(e instanceof Object?e=(r=e).name:("/"===e[0]&&(n=t,t=e,e=null),r={name:e,pattern:t,page:n}),this.findByName(e))throw new Error('Route "'.concat(e,'" already exists'));return this.routes.push(new h(r)),this}},{key:"findByName",value:function(e){if(e)return this.routes.filter((function(t){return t.name===e}))[0]}},{key:"match",value:function(e){var t=(0,o.parse)(e,!0),n=t.pathname,r=t.query;return this.routes.reduce((function(e,t){if(e.route)return e;var a=t.match(n);return a?c({},e,{route:t,params:a,query:c({},r,a)}):e}),{query:r,parsedUrl:t})}},{key:"findAndGetUrls",value:function(e,t){var n=this.findByName(e);if(n)return{route:n,urls:n.getUrls(t),byName:!0};var r=this.match(e),a=r.route,o=r.query,i=a?a.getHref(o):e;return{route:a,urls:{href:i,as:e}}}},{key:"getRequestHandler",value:function(e,t){var n=this,r=e.getRequestHandler();return function(a,o){var i=n.match(a.url),u=i.route,l=i.query,c=i.parsedUrl;u?t?t({req:a,res:o,route:u,query:l}):e.render(a,o,u.page,l):r(a,o,c)}}},{key:"getLink",value:function(e){var t=this;return function(n){var r=n.route,o=n.params,i=n.to,u=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(n,["route","params","to"]),l=r||i;return l&&Object.assign(u,t.findAndGetUrls(l,o).urls),a.default.createElement(e,u)}}},{key:"getRouter",value:function(e){var t=this,n=function(n){return function(r,a,o){var i=t.findAndGetUrls(r,a),u=i.byName,l=i.urls,c=l.as,s=l.href;return e[n](s,c,u?o:a)}};return e.pushRoute=n("push"),e.replaceRoute=n("replace"),e.prefetchRoute=n("prefetch"),e}}]),e}(),h=function(){function e(t){var n=t.name,a=t.pattern,o=t.page,i=void 0===o?n:o;if(d(this,e),!n&&!i)throw new Error('Missing page to render for route "'.concat(a,'"'));this.name=n,this.pattern=a||"/".concat(n),this.page=i.replace(/(^|\/)index$/,"").replace(/^\/?/,"/"),this.regex=(0,r.default)(this.pattern,this.keys=[]),this.keyNames=this.keys.map((function(e){return e.name})),this.toPath=r.default.compile(this.pattern)}return f(e,[{key:"match",value:function(e){var t=this.regex.exec(e);if(t)return this.valuesToParams(t.slice(1))}},{key:"valuesToParams",value:function(e){var t=this;return e.reduce((function(e,n,r){return void 0===n?e:Object.assign(e,s({},t.keys[r].name,decodeURIComponent(n)))}),{})}},{key:"getHref",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"".concat(this.page,"?").concat(v(e))}},{key:"getAs",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.toPath(t)||"/",r=Object.keys(t),a=r.filter((function(t){return-1===e.keyNames.indexOf(t)}));if(!a.length)return n;var o=a.reduce((function(e,n){return Object.assign(e,s({},n,t[n]))}),{});return"".concat(n,"?").concat(v(o))}},{key:"getUrls",value:function(e){return{as:this.getAs(e),href:this.getHref(e)}}}]),e}(),v=function(e){return Object.keys(e).filter((function(t){return null!==e[t]&&void 0!==e[t]})).map((function(t){var n=e[t];return Array.isArray(n)&&(n=n.join("/")),[encodeURIComponent(t),encodeURIComponent(n)].join("=")})).join("&")}},"5fIB":function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},"8Kt/":function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI")),o=r(n("Xuae")),i=n("lwAK"),u=n("FYa8"),l=n("/0+H");function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[a.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(a.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function s(e,t){return"string"===typeof t||"number"===typeof t?e:t.type===a.default.Fragment?e.concat(a.default.Children.toArray(t.props.children).reduce((function(e,t){return"string"===typeof t||"number"===typeof t?e:e.concat(t)}),[])):e.concat(t)}t.defaultHead=c;var d=["name","httpEquiv","charSet","itemProp"];function p(e,t){return e.reduce((function(e,t){var n=a.default.Children.toArray(t.props.children);return e.concat(n)}),[]).reduce(s,[]).reverse().concat(c(t.inAmpMode)).filter(function(){var e=new Set,t=new Set,n=new Set,r={};return function(a){var o=!0;if(a.key&&"number"!==typeof a.key&&a.key.indexOf("$")>0){var i=a.key.slice(a.key.indexOf("$")+1);e.has(i)?o=!1:e.add(i)}switch(a.type){case"title":case"base":t.has(a.type)?o=!1:t.add(a.type);break;case"meta":for(var u=0,l=d.length;u<l;u++){var c=d[u];if(a.props.hasOwnProperty(c))if("charSet"===c)n.has(c)?o=!1:n.add(c);else{var s=a.props[c],p=r[c]||new Set;p.has(s)?o=!1:(p.add(s),r[c]=p)}}}return o}}()).reverse().map((function(e,t){var n=e.key||t;return a.default.cloneElement(e,{key:n})}))}var f=o.default();function m(e){var t=e.children;return a.default.createElement(i.AmpStateContext.Consumer,null,(function(e){return a.default.createElement(u.HeadManagerContext.Consumer,null,(function(n){return a.default.createElement(f,{reduceComponentsToState:p,handleStateChange:n,inAmpMode:l.isInAmpMode(e)},t)}))}))}m.rewind=f.rewind,t.default=m},"90j9":function(e,t,n){},AOp9:function(e,t,n){},E2AV:function(e,t,n){},QIyF:function(e,t,n){var r=n("Kz5y");e.exports=function(){return r.Date.now()}},Wfic:function(e,t,n){},Xuae:function(e,t,n){"use strict";var r=n("/GRZ"),a=n("tCBg"),o=n("T0f4"),i=n("qXWd"),u=n("i2R6"),l=n("48fX"),c=n("mPvQ");Object.defineProperty(t,"__esModule",{value:!0});var s=n("q1tI"),d=!1;t.default=function(){var e,t=new Set;function n(n){e=n.props.reduceComponentsToState(c(t),n.props),n.props.handleStateChange&&n.props.handleStateChange(e)}return function(c){function s(e){var u;return r(this,s),u=a(this,o(s).call(this,e)),d&&(t.add(i(u)),n(i(u))),u}return l(s,c),u(s,null,[{key:"rewind",value:function(){var n=e;return e=void 0,t.clear(),n}}]),u(s,[{key:"componentDidMount",value:function(){t.add(this),n(this)}},{key:"componentDidUpdate",value:function(){n(this)}},{key:"componentWillUnmount",value:function(){t.delete(this),n(this)}},{key:"render",value:function(){return null}}]),s}(s.Component)}},YFqc:function(e,t,n){e.exports=n("cTJO")},cTJO:function(e,t,n){"use strict";var r=n("/GRZ"),a=n("i2R6"),o=n("tCBg"),i=n("T0f4"),u=n("48fX"),l=n("AroE"),c=n("7KCV");t.__esModule=!0,t.default=void 0;var s,d=c(n("q1tI")),p=n("QmWs"),f=n("g/15"),m=l(n("nOHt"));function h(e){return e&&"object"===typeof e?(0,f.formatWithValidation)(e):e}var v=new Map,y=window.IntersectionObserver,b={};function g(){return s||(y?s=new y((function(e){e.forEach((function(e){if(v.has(e.target)){var t=v.get(e.target);(e.isIntersecting||e.intersectionRatio>0)&&(s.unobserve(e.target),v.delete(e.target),t())}}))}),{rootMargin:"200px"}):void 0)}var x=function(e){function t(e){var n;return r(this,t),(n=o(this,i(t).call(this,e))).p=void 0,n.cleanUpListeners=function(){},n.formatUrls=function(e){var t=null,n=null,r=null;return function(a,o){if(r&&a===t&&o===n)return r;var i=e(a,o);return t=a,n=o,r=i,i}}((function(e,t){return{href:h(e),as:t?h(t):t}})),n.linkClicked=function(e){var t=e.currentTarget,r=t.nodeName,a=t.target;if("A"!==r||!(a&&"_self"!==a||e.metaKey||e.ctrlKey||e.shiftKey||e.nativeEvent&&2===e.nativeEvent.which)){var o=n.formatUrls(n.props.href,n.props.as),i=o.href,u=o.as;if(function(e){var t=(0,p.parse)(e,!1,!0),n=(0,p.parse)((0,f.getLocationOrigin)(),!1,!0);return!t.host||t.protocol===n.protocol&&t.host===n.host}(i)){var l=window.location.pathname;i=(0,p.resolve)(l,i),u=u?(0,p.resolve)(l,u):i,e.preventDefault();var c=n.props.scroll;null==c&&(c=u.indexOf("#")<0),m.default[n.props.replace?"replace":"push"](i,u,{shallow:n.props.shallow}).then((function(e){e&&c&&(window.scrollTo(0,0),document.body.focus())}))}}},n.p=!1!==e.prefetch,n}return u(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.cleanUpListeners()}},{key:"getPaths",value:function(){var e=window.location.pathname,t=this.formatUrls(this.props.href,this.props.as),n=t.href,r=t.as,a=(0,p.resolve)(e,n);return[a,r?(0,p.resolve)(e,r):a]}},{key:"handleRef",value:function(e){var t=this;this.p&&y&&e&&e.tagName&&(this.cleanUpListeners(),b[this.getPaths().join("%")]||(this.cleanUpListeners=function(e,t){var n=g();return n?(n.observe(e),v.set(e,t),function(){try{n.unobserve(e)}catch(t){console.error(t)}v.delete(e)}):function(){}}(e,(function(){t.prefetch()}))))}},{key:"prefetch",value:function(e){if(this.p){var t=this.getPaths();m.default.prefetch(t[0],t[1],e).catch((function(e){0})),b[t.join("%")]=!0}}},{key:"render",value:function(){var e=this,t=this.props.children,n=this.formatUrls(this.props.href,this.props.as),r=n.href,a=n.as;"string"===typeof t&&(t=d.default.createElement("a",null,t));var o=d.Children.only(t),i={ref:function(t){e.handleRef(t),o&&"object"===typeof o&&o.ref&&("function"===typeof o.ref?o.ref(t):"object"===typeof o.ref&&(o.ref.current=t))},onMouseEnter:function(t){o.props&&"function"===typeof o.props.onMouseEnter&&o.props.onMouseEnter(t),e.prefetch({priority:!0})},onClick:function(t){o.props&&"function"===typeof o.props.onClick&&o.props.onClick(t),t.defaultPrevented||e.linkClicked(t)}};return!this.props.passHref&&("a"!==o.type||"href"in o.props)||(i.href=a||r),d.default.cloneElement(o,i)}}]),t}(d.Component);t.default=x},fJyB:function(e,t,n){"use strict";n.r(t);var r=n("q1tI"),a=n.n(r),o=n("TSYQ"),i=n.n(o),u=n("8Kt/"),l=n.n(u),c=a.a.createElement,s=function(e){var t=e.title,n=e.description;return c(l.a,null,c("title",{key:"title"},t?"".concat(t," | Satellite stamp"):"Satellite stamp"),c("meta",{key:"description",name:"description",content:n||"Tool to generate map images for Mongabay."}))};s.defaultProps={title:null,description:null};var d=s,p=a.a.createElement,f=function(){return p("svg",{"aria-hidden":"true",style:{position:"absolute",width:0,height:0,overflow:"hidden"},version:"1.1",xmlns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},p("defs",null,p("symbol",{id:"icon-close",viewBox:"0 0 9 9"},p("title",null,"Close"),p("path",{d:"M7.41.839l1.087 1.087-7.07 7.071L.338 7.91z"}),p("path",{d:"M8.498 7.91L7.41 8.998.339 1.927 1.427.839z"})),p("symbol",{id:"icon-bottom-arrow",viewBox:"0 0 18 11"},p("title",null,"Bottom arrow"),p("path",{d:"M1 1l8 8 8-8",strokeWidth:"2",fill:"none"}))))},m=(n("03wo"),a.a.createElement),h=function(e){var t=e.className,n=e.children;return m("div",{className:i()("l-simple-page",t)},m(d,null),m("main",{className:"l-static-page"},n),m(f,null))};h.defaultProps={className:null};var v=h,y=n("/MKj"),b=n("yeIB"),g=n("sEfC"),x=n.n(g),w=n("+XsK"),E=n("rePB");n("wd/R");function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A,k=function(e,t){var n=e.getStyle(),r=n.layers,a=n.metadata["mapbox:groups"],o=Object.keys(a).map((function(e){return Object(E.a)({},e,a[e].name)})).reduce((function(e,t){var n=Object.keys(t)[0],r=t[n];return r.startsWith("basemap-")?j({},e,Object(E.a)({},n,r)):e}),{}),i=Object.keys(o);r.forEach((function(n){var r,a=null===(r=n.metadata)||void 0===r?void 0:r["mapbox:group"];a&&-1!==i.indexOf(a)&&e.setLayoutProperty(n.id,"visibility",o[a]===t.styleGroup?"visible":"none")}))},C=n("KQm4");function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t&&I(e.prototype,t),n&&I(e,n),e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?L(e):t}function H(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}!function(e){e.Accordion="Accordion",e.AccordionItem="AccordionItem",e.AccordionItemButton="AccordionItemButton",e.AccordionItemHeading="AccordionItemHeading",e.AccordionItemPanel="AccordionItemPanel"}(A||(A={}));var U=A,Z=function e(t){var n=this,r=t.expanded,a=void 0===r?[]:r,o=t.allowMultipleExpanded,i=void 0!==o&&o,u=t.allowZeroExpanded,l=void 0!==u&&u;P(this,e),M(this,"expanded",void 0),M(this,"allowMultipleExpanded",void 0),M(this,"allowZeroExpanded",void 0),M(this,"toggleExpanded",(function(e){return n.isItemDisabled(e)?n:n.isItemExpanded(e)?n.augment({expanded:n.expanded.filter((function(t){return t!==e}))}):n.augment({expanded:n.allowMultipleExpanded?[].concat(H(n.expanded),[e]):[e]})})),M(this,"isItemDisabled",(function(e){var t=n.isItemExpanded(e),r=1===n.expanded.length;return Boolean(t&&!n.allowZeroExpanded&&r)})),M(this,"isItemExpanded",(function(e){return-1!==n.expanded.indexOf(e)})),M(this,"getPanelAttributes",(function(e){var t=n.isItemExpanded(e);return{role:n.allowMultipleExpanded?void 0:"region","aria-hidden":n.allowMultipleExpanded?!t:void 0,"aria-labelledby":n.getButtonId(e),id:n.getPanelId(e),hidden:!t||void 0}})),M(this,"getHeadingAttributes",(function(e){return{role:"heading"}})),M(this,"getButtonAttributes",(function(e){var t=n.isItemExpanded(e),r=n.isItemDisabled(e);return{id:n.getButtonId(e),"aria-disabled":r,"aria-expanded":t,"aria-controls":n.getPanelId(e),role:"button",tabIndex:0}})),M(this,"getPanelId",(function(e){return"accordion__panel-".concat(e)})),M(this,"getButtonId",(function(e){return"accordion__heading-".concat(e)})),M(this,"augment",(function(t){return new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}({expanded:n.expanded,allowMultipleExpanded:n.allowMultipleExpanded,allowZeroExpanded:n.allowZeroExpanded},t))})),this.expanded=a,this.allowMultipleExpanded=i,this.allowZeroExpanded=l},q=Object(r.createContext)(null),K=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"state",new Z({expanded:n.props.preExpanded,allowMultipleExpanded:n.props.allowMultipleExpanded,allowZeroExpanded:n.props.allowZeroExpanded})),M(L(n),"toggleExpanded",(function(e){n.setState((function(t){return t.toggleExpanded(e)}),(function(){n.props.onChange&&n.props.onChange(n.state.expanded)}))})),M(L(n),"isItemDisabled",(function(e){return n.state.isItemDisabled(e)})),M(L(n),"isItemExpanded",(function(e){return n.state.isItemExpanded(e)})),M(L(n),"getPanelAttributes",(function(e){return n.state.getPanelAttributes(e)})),M(L(n),"getHeadingAttributes",(function(e){return n.state.getHeadingAttributes(e)})),M(L(n),"getButtonAttributes",(function(e){return n.state.getButtonAttributes(e)})),n}return R(t,e),N(t,[{key:"render",value:function(){var e=this.state,t=e.allowZeroExpanded,n=e.allowMultipleExpanded;return Object(r.createElement)(q.Provider,{value:{allowMultipleExpanded:n,allowZeroExpanded:t,toggleExpanded:this.toggleExpanded,isItemDisabled:this.isItemDisabled,isItemExpanded:this.isItemExpanded,getPanelAttributes:this.getPanelAttributes,getHeadingAttributes:this.getHeadingAttributes,getButtonAttributes:this.getButtonAttributes}},this.props.children||null)}}]),t}(r.PureComponent);M(K,"defaultProps",{allowMultipleExpanded:!1,allowZeroExpanded:!1});var W=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"renderChildren",(function(e){return e?n.props.children(e):null})),n}return R(t,e),N(t,[{key:"render",value:function(){return Object(r.createElement)(q.Consumer,null,this.renderChildren)}}]),t}(r.PureComponent),$=function(e){function t(){var e,n;P(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(o)))),"renderAccordion",(function(e){var t=n.props,a=(t.preExpanded,t.allowMultipleExpanded,t.allowZeroExpanded,t.onChange,T(t,["preExpanded","allowMultipleExpanded","allowZeroExpanded","onChange"]));return Object(r.createElement)("div",S({"data-accordion-component":"Accordion"},a))})),n}return R(t,e),N(t,[{key:"render",value:function(){return Object(r.createElement)(K,{preExpanded:this.props.preExpanded,allowMultipleExpanded:this.props.allowMultipleExpanded,allowZeroExpanded:this.props.allowZeroExpanded,onChange:this.props.onChange},Object(r.createElement)(W,null,this.renderAccordion))}}]),t}(r.Component);M($,"defaultProps",{allowMultipleExpanded:void 0,allowZeroExpanded:void 0,onChange:void 0,className:"accordion",children:void 0}),M($,"displayName",U.Accordion);var G=0,F=G;var V=Object(r.createContext)(null),Q=function(e){function t(){var e,n;P(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(o)))),"toggleExpanded",(function(){n.props.accordionContext.toggleExpanded(n.props.uuid)})),M(L(n),"renderChildren",(function(e){var t=n.props.uuid,a=e.isItemExpanded(t),o=e.isItemDisabled(t),i=e.getPanelAttributes(t),u=e.getHeadingAttributes(t),l=e.getButtonAttributes(t);return Object(r.createElement)(V.Provider,{value:{uuid:t,expanded:a,disabled:o,toggleExpanded:n.toggleExpanded,panelAttributes:i,headingAttributes:u,buttonAttributes:l},children:n.props.children})})),n}return R(t,e),N(t,[{key:"render",value:function(){return Object(r.createElement)(W,null,this.renderChildren)}}]),t}(r.Component),z=function(e){return Object(r.createElement)(W,null,(function(t){return Object(r.createElement)(Q,S({},e,{accordionContext:t}))}))},X=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"renderChildren",(function(e){return e?n.props.children(e):null})),n}return R(t,e),N(t,[{key:"render",value:function(){return Object(r.createElement)(V.Consumer,null,this.renderChildren)}}]),t}(r.PureComponent),J=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"instanceUuid",function(){var e=F;return F+=1,e}()),n}return R(t,e),N(t,[{key:"render",value:function(){var e=this.props,t=e.uuid,n=void 0===t?this.instanceUuid:t,a=T(e,["uuid"]);return Object(r.createElement)(z,{uuid:n},Object(r.createElement)("div",S({"data-accordion-component":"AccordionItem"},a)))}}]),t}(r.Component);function Y(e){var t=function e(t){return t&&(t.matches('[data-accordion-component="Accordion"]')?t:e(t.parentElement))}(e);return t&&Array.from(t.querySelectorAll('[data-accordion-component="AccordionItemButton"]'))}M(J,"defaultProps",{className:"accordion__item"}),M(J,"displayName",U.AccordionItem);var ee={DOWN:"40",END:"35",ENTER:"13",HOME:"36",LEFT:"37",RIGHT:"39",SPACE:"32",UP:"38"},te=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"handleKeyPress",(function(e){var t=e.which.toString();if(t!==ee.ENTER&&t!==ee.SPACE||(e.preventDefault(),n.props.toggleExpanded()),e.target instanceof HTMLElement)switch(t){case ee.HOME:e.preventDefault(),function(e){var t=(Y(e)||[])[0];t&&t.focus()}(e.target);break;case ee.END:e.preventDefault(),function(e){var t=Y(e)||[],n=t[t.length-1];n&&n.focus()}(e.target);break;case ee.LEFT:case ee.UP:e.preventDefault(),function(e){var t=Y(e)||[],n=t.indexOf(e);if(-1!==n){var r=t[n-1];r&&r.focus()}}(e.target);break;case ee.RIGHT:case ee.DOWN:e.preventDefault(),function(e){var t=Y(e)||[],n=t.indexOf(e);if(-1!==n){var r=t[n+1];r&&r.focus()}}(e.target)}})),n}return R(t,e),N(t,[{key:"render",value:function(){var e=this.props,t=e.toggleExpanded,n=T(e,["toggleExpanded"]);return Object(r.createElement)("div",S({},n,{onClick:t,onKeyDown:this.handleKeyPress,"data-accordion-component":"AccordionItemButton"}))}}]),t}(r.PureComponent);M(te,"defaultProps",{className:"accordion__button"});var ne=function(e){return Object(r.createElement)(X,null,(function(t){var n=t.toggleExpanded,a=t.buttonAttributes;return Object(r.createElement)(te,S({toggleExpanded:n},e,a))}))};ne.displayName=U.AccordionItemButton;var re=function(e){function t(){var e,n;P(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(a)))),"ref",void 0),M(L(n),"setRef",(function(e){n.ref=e})),n}return R(t,e),N(t,[{key:"componentDidUpdate",value:function(){t.VALIDATE(this.ref)}},{key:"componentDidMount",value:function(){t.VALIDATE(this.ref)}},{key:"render",value:function(){return Object(r.createElement)("div",S({"data-accordion-component":"AccordionItemHeading"},this.props,{ref:this.setRef}))}}],[{key:"VALIDATE",value:function(e){if(void 0===e)throw new Error("ref is undefined");if(1!==e.childElementCount||!e.firstElementChild||"AccordionItemButton"!==e.firstElementChild.getAttribute("data-accordion-component"))throw new Error("AccordionItemButton may contain only one child element, which must be an instance of AccordionItemButton.\n\nFrom the WAI-ARIA spec (https://www.w3.org/TR/wai-aria-practices-1.1/#accordion):\n\n\u201cThe button element is the only element inside the heading element. That is, if there are other visually persistent elements, they are not included inside the heading element.\u201d\n\n")}}]),t}(r.PureComponent);M(re,"defaultProps",{className:"accordion__heading","aria-level":3});var ae=function(e){return Object(r.createElement)(X,null,(function(t){var n=t.headingAttributes;return Object(r.createElement)(re,S({},e,n))}))};ae.displayName=U.AccordionItemHeading;var oe=function(e){function t(){var e,n;P(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return M(L(n=D(this,(e=_(t)).call.apply(e,[this].concat(o)))),"renderChildren",(function(e){var t=e.panelAttributes;return Object(r.createElement)("div",S({"data-accordion-component":"AccordionItemPanel"},n.props,t))})),n}return R(t,e),N(t,[{key:"render",value:function(){return Object(r.createElement)(X,null,this.renderChildren)}}]),t}(r.Component);M(oe,"defaultProps",{className:"accordion__panel"}),M(oe,"displayName",U.AccordionItemPanel);r.Component;var ie=n("MGXd"),ue=(n("E2AV"),a.a.createElement),le=function(e){var t=e.multi,n=e.expanded,r=e.className,a=e.onChange,o=e.children;return ue($,{allowMultipleExpanded:t,allowZeroExpanded:!0,preExpanded:n,className:["c-accordion"].concat(Object(C.a)(r?[r]:[])).join(" "),onChange:a},o)};le.defaultProps={multi:!0,expanded:void 0,className:void 0,onChange:void 0};var ce=function(e){var t=e.id,n=e.className,r=e.children;return ue(J,{uuid:t,className:["item"].concat(Object(C.a)(n?[n]:[])).join(" ")},r)};ce.defaultProps={className:null};var se=function(e){var t=e["aria-level"],n=e.children;return ue(ae,{"aria-level":t,className:"title"},ue(ne,{className:"button"},ue(ie.a,{name:"bottom-arrow"}),n))},de=function(e){var t=e.children;return ue(oe,{className:"panel"},t)},pe=(n("90j9"),a.a.createElement),fe=function(e){var t=e.id,n=e.name,r=e.disabled,a=e.checked,o=e.onChange,i=e.children,u=e.className;return pe("div",{className:["custom-control","custom-radio","c-radio"].concat(Object(C.a)(u?[u]:[])).join(" ")},pe("input",{type:"radio",className:"custom-control-input",disabled:r,id:t,name:n,checked:a,onChange:o}),pe("label",{className:"custom-control-label",htmlFor:t},i))};fe.defaultProps={disabled:!1,checked:!1,onChange:null,className:null};var me=fe,he=(n("Wfic"),a.a.createElement),ve=function(e){var t=e.id,n=e.name,r=e.disabled,a=e.checked,o=e.onChange,i=e.children,u=e.className;return he("div",{className:["custom-control","custom-checkbox","c-checkbox"].concat(Object(C.a)(u?[u]:[])).join(" ")},he("input",{type:"checkbox",className:"custom-control-input",disabled:r,id:t,name:n,checked:a,onChange:o}),he("label",{className:"custom-control-label",htmlFor:t},i))};ve.defaultProps={disabled:!1,checked:!1,onChange:null,className:null};var ye=ve,be=n("HqZR"),ge=a.a.createElement,xe=function(e){var t=e.basemap,n=e.onChangeBasemap;return ge("div",{className:"c-tool-basemap-list"},Object.keys(be.a).sort((function(e,t){return be.a[e].label.localeCompare(be.a[t].label)})).map((function(e){return ge(me,{key:e,id:"basemap-".concat(e),name:"basemap",checked:e===t,onChange:function(){return n({basemap:e})}},be.a[e].label)})))},we=Object(y.b)((function(e){return{basemap:b.c.selectBasemap(e)}}),{onChangeBasemap:b.a.updateBasemap})(xe),Ee=a.a.createElement,Oe=function(e){var t=e.contextualLayers,n=e.onAddContextualLayer,r=e.onRemoveContextualLayer;return Ee("div",{className:"c-tool-contextual-layer-list"},Object.keys(be.b).sort((function(e,t){return be.b[e].label.localeCompare(be.b[t].label)})).map((function(e){return Ee(ye,{key:e,id:"contextual-layer-".concat(e),name:"contextual-layer",checked:-1!==t.indexOf(e),onChange:function(){return-1!==t.indexOf(e)?r(e):n(e)}},be.b[e].label)})))},je=Object(y.b)((function(e){return{contextualLayers:b.c.selectContextualLayers(e)}}),{onAddContextualLayer:b.a.addContextualLayer,onRemoveContextualLayer:b.a.removeContextualLayer})(Oe),Ae=(n("++oL"),a.a.createElement),ke=function(e){var t=e.viewport,n=e.basemap,a=e.contextualLayers,o=e.serializedState,i=e.restoreState,u=e.updateViewport,l=Object(r.useRef)(null),c=Object(r.useMemo)((function(){var e;return null===(e=l.current)||void 0===e?void 0:e.map}),[l.current]),s=Object(r.useState)(!1),d=s[0],p=s[1],f=Object(r.useState)("data-layers"),m=f[0],h=f[1],v=Object(r.useCallback)(x()((function(e){u({zoom:e.zoom,latitude:e.latitude,longitude:e.longitude,bounds:e.bounds})}),500),[u]),y=Object(r.useCallback)((function(){p(!0),k(c,be.a[n])}),[c,n]);return Object(r.useEffect)((function(){i()}),[i]),Object(r.useEffect)((function(){w.Router.replaceRoute("home",{state:o})}),[o]),Object(r.useEffect)((function(){c&&d&&(k(c,be.a[n]),function(e,t){var n=e.getStyle(),r=n.layers,a=n.metadata["mapbox:groups"],o=Object.keys(a).map((function(e){return Object(E.a)({},e,a[e].name)})).reduce((function(e,t){var n=Object.keys(t)[0],r=t[n];return r.startsWith("contextual-")?j({},e,Object(E.a)({},n,r)):e}),{}),i=Object.keys(o),u=t.map((function(e){return e.styleGroup}));r.forEach((function(t){var n,r=null===(n=t.metadata)||void 0===n?void 0:n["mapbox:group"];r&&-1!==i.indexOf(r)&&e.setLayoutProperty(t.id,"visibility",-1!==u.indexOf(o[r])?"visible":"none")}))}(c,a.map((function(e){return be.b[e]}))))}),[c,d,n,a]),Ae("div",{className:"c-tool"},Ae("aside",null,Ae(le,{multi:!1,expanded:[m],onChange:function(e){var t;return h(null!==(t=e[0])&&void 0!==t?t:null)}},Ae(ce,{id:"data-layers",className:"data-layers"===m?"-expanded":null},Ae(se,{"aria-level":1},Ae("span",{className:"h1"},"Data layers")),Ae(de,null,Ae("div",{className:"pt-2"},Object.keys(be.c).sort((function(e,t){return be.c[e].label.localeCompare(be.c[t].label)})).map((function(e){return Ae(ye,{key:e,id:"data-layers-".concat(e),name:"data-layers",checked:!1,onChange:console.log,disabled:!0},be.c[e].label)}))))),Ae(ce,{id:"contextual-layers",className:"contextual-layers"===m?"-expanded":null},Ae(se,{"aria-level":1},Ae("span",{className:"h1"},"Contextual layers")),Ae(de,null,Ae(je,null))),Ae(ce,{id:"basemap",className:"basemap"===m?"-expanded":null},Ae(se,{"aria-level":1},Ae("span",{className:"h1"},"Basemap")),Ae(de,null,Ae(we,null)))),Ae("div",{className:"mt-4"},Ae("button",{type:"button",className:"btn btn-primary mr-2",disabled:!0},"Export"),Ae("button",{type:"button",className:"btn btn-outline-primary",disabled:!0},"Map presets"))),Ae("div",{className:"visualization"},Ae("div",{className:"map-container"},Ae(be.e,{ref:l,mapStyle:be.f,viewport:t,onViewportChange:v,onLoad:y},(function(e){return Ae(be.d,{map:e,providers:{},layers:[]})})))))};ke.defaultProps={basemapProps:null};var Ce=ke,Pe=Object(y.b)((function(e){return{zoom:b.c.selectZoom(e),viewport:b.c.selectViewport(e),basemap:b.c.selectBasemap(e),basemapParams:b.c.selectBasemapParams(e),contextualLayers:b.c.selectContextualLayers(e),activeLayersDef:b.c.selectActiveLayersDef(e),serializedState:b.e.selectSerializedState(e)}}),{restoreState:b.d.restoreState,updateZoom:b.a.updateZoom,updateViewport:b.a.updateViewport,updateBasemap:b.a.updateBasemap,updateBasemapParams:b.a.updateBasemapParams})(Ce),Ie=(n("AOp9"),a.a.createElement);t.default=function(){return Ie(v,{className:"p-home"},Ie(Pe,null))}},kG2m:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},lwAK:function(e,t,n){"use strict";var r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(n("q1tI"));t.AmpStateContext=a.createContext({})},mPvQ:function(e,t,n){var r=n("5fIB"),a=n("rlHP"),o=n("kG2m");e.exports=function(e){return r(e)||a(e)||o()}},rlHP:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},sEfC:function(e,t,n){var r=n("GoyQ"),a=n("QIyF"),o=n("tLB3"),i="Expected a function",u=Math.max,l=Math.min;e.exports=function(e,t,n){var c,s,d,p,f,m,h=0,v=!1,y=!1,b=!0;if("function"!=typeof e)throw new TypeError(i);function g(t){var n=c,r=s;return c=s=void 0,h=t,p=e.apply(r,n)}function x(e){var n=e-m;return void 0===m||n>=t||n<0||y&&e-h>=d}function w(){var e=a();if(x(e))return E(e);f=setTimeout(w,function(e){var n=t-(e-m);return y?l(n,d-(e-h)):n}(e))}function E(e){return f=void 0,b&&c?g(e):(c=s=void 0,p)}function O(){var e=a(),n=x(e);if(c=arguments,s=this,m=e,n){if(void 0===f)return function(e){return h=e,f=setTimeout(w,t),v?g(e):p}(m);if(y)return clearTimeout(f),f=setTimeout(w,t),g(m)}return void 0===f&&(f=setTimeout(w,t)),p}return t=o(t)||0,r(n)&&(v=!!n.leading,d=(y="maxWait"in n)?u(o(n.maxWait)||0,t):d,b="trailing"in n?!!n.trailing:b),O.cancel=function(){void 0!==f&&clearTimeout(f),h=0,c=m=s=f=void 0},O.flush=function(){return void 0===f?p:E(a())},O}},tLB3:function(e,t,n){var r=n("GoyQ"),a=n("/9aa"),o=NaN,i=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=l.test(e);return n||c.test(e)?s(e.slice(2),n?2:8):u.test(e)?o:+e}}}]);